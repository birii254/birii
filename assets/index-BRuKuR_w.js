import{r as ja,a as Gn,g as Kn}from"./react-DavUf6mE.js";import{R as H,r as m,a as Ye,t as Ps,L as I,u as Yn,b as ht,c as zn,d as Na,e as Qn,f as ae,B as Jn}from"./reactRouter-oQltZjXH.js";import{useQuery as Le,QueryClient as Xn,QueryClientProvider as Zn}from"@tanstack/react-query";import{c as ei,a as Is}from"./vendor-BaZPnYzA.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var ps={exports:{}},jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr;function ti(){if(kr)return jt;kr=1;var e=ja(),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(o,c,d){var u,f={},p=null,x=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(x=c.ref);for(u in c)a.call(c,u)&&!i.hasOwnProperty(u)&&(f[u]=c[u]);if(o&&o.defaultProps)for(u in c=o.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:s,type:o,key:p,ref:x,props:f,_owner:n.current}}return jt.Fragment=r,jt.jsx=l,jt.jsxs=l,jt}var Cr;function si(){return Cr||(Cr=1,ps.exports=ti()),ps.exports}var t=si(),Mt={},$r;function ri(){if($r)return Mt;$r=1;var e=Gn();return Mt.createRoot=e.createRoot,Mt.hydrateRoot=e.hydrateRoot,Mt}var ai=ri();const ni=Kn(ai);function ii(e,s){let r;try{r=e()}catch{return}return{getItem:n=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(n))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const Rs=e=>s=>{try{const r=e(s);return r instanceof Promise?r:{then(a){return Rs(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Rs(a)(r)}}}},li=(e,s)=>(r,a,n)=>{let i={storage:ii(()=>localStorage),partialize:y=>y,version:0,merge:(y,g)=>({...g,...y}),...s},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},a,n);const u=()=>{const y=i.partialize({...a()});return d.setItem(i.name,{state:y,version:i.version})},f=n.setState;n.setState=(y,g)=>{f(y,g),u()};const p=e((...y)=>{r(...y),u()},a,n);n.getInitialState=()=>p;let x;const b=()=>{var y,g;if(!d)return;l=!1,o.forEach(j=>{var w;return j((w=a())!=null?w:p)});const v=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(y=a())!=null?y:p))||void 0;return Rs(d.getItem.bind(d))(i.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==i.version){if(i.migrate){const w=i.migrate(j.state,j.version);return w instanceof Promise?w.then(C=>[!0,C]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var w;const[C,E]=j;if(x=i.merge(E,(w=a())!=null?w:p),r(x,!0),C)return u()}).then(()=>{v?.(x,void 0),x=a(),l=!0,c.forEach(j=>j(x))}).catch(j=>{v?.(void 0,j)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>l,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||b(),x||p},oi=li,ke=ei(oi((e,s)=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,login:(r,a)=>{localStorage.setItem("access_token",a.access),localStorage.setItem("refresh_token",a.refresh),e({user:r,accessToken:a.access,refreshToken:a.refresh,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1})},updateUser:r=>{e(a=>({user:{...a.user,...r}}))},initializeAuth:()=>{const r=localStorage.getItem("access_token"),a=localStorage.getItem("refresh_token");r&&a&&e({accessToken:r,refreshToken:a,isAuthenticated:!0})}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),wa=typeof document<"u"?H.useLayoutEffect:()=>{};function ci(e){const s=m.useRef(null);return wa(()=>{s.current=e},[e]),m.useCallback((...r)=>{const a=s.current;return a?.(...r)},[])}const Je=e=>{var s;return(s=e?.ownerDocument)!==null&&s!==void 0?s:document},st=e=>e&&"window"in e&&e.window===e?e:Je(e).defaultView||window;function di(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ui(e){return di(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let mi=!1;function Qs(){return mi}function Sa(e,s){if(!Qs())return s&&e?e.contains(s):!1;if(!e||!s)return!1;let r=s;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:ui(r)?r=r.host:r=r.parentNode}return!1}const Ts=(e=document)=>{var s;if(!Qs())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((s=r.shadowRoot)===null||s===void 0)&&s.activeElement);)r=r.shadowRoot.activeElement;return r};function Ea(e){return Qs()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function fi(e){var s;return typeof window>"u"||window.navigator==null?!1:((s=window.navigator.userAgentData)===null||s===void 0?void 0:s.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function xi(e){var s;return typeof window<"u"&&window.navigator!=null?e.test(((s=window.navigator.userAgentData)===null||s===void 0?void 0:s.platform)||window.navigator.platform):!1}function ka(e){let s=null;return()=>(s==null&&(s=e()),s)}const hi=ka(function(){return xi(/^Mac/i)}),pi=ka(function(){return fi(/Android/i)});function Ca(){let e=m.useRef(new Map),s=m.useCallback((n,i,l,o)=>{let c=o?.once?(...d)=>{e.current.delete(l),l(...d)}:l;e.current.set(l,{type:i,eventTarget:n,fn:c,options:o}),n.addEventListener(i,c,o)},[]),r=m.useCallback((n,i,l,o)=>{var c;let d=((c=e.current.get(l))===null||c===void 0?void 0:c.fn)||l;n.removeEventListener(i,d,o),e.current.delete(l)},[]),a=m.useCallback(()=>{e.current.forEach((n,i)=>{r(n.eventTarget,n.type,i,n.options)})},[r]);return m.useEffect(()=>a,[a]),{addGlobalListener:s,removeGlobalListener:r,removeAllGlobalListeners:a}}function gi(e){return e.mozInputSource===0&&e.isTrusted?!0:pi()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function $a(e){let s=e;return s.nativeEvent=e,s.isDefaultPrevented=()=>s.defaultPrevented,s.isPropagationStopped=()=>s.cancelBubble,s.persist=()=>{},s}function bi(e,s){Object.defineProperty(e,"target",{value:s}),Object.defineProperty(e,"currentTarget",{value:s})}function Fa(e){let s=m.useRef({isFocused:!1,observer:null});wa(()=>{const a=s.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let r=ci(a=>{e?.(a)});return m.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){s.current.isFocused=!0;let n=a.target,i=l=>{if(s.current.isFocused=!1,n.disabled){let o=$a(l);r(o)}s.current.observer&&(s.current.observer.disconnect(),s.current.observer=null)};n.addEventListener("focusout",i,{once:!0}),s.current.observer=new MutationObserver(()=>{if(s.current.isFocused&&n.disabled){var l;(l=s.current.observer)===null||l===void 0||l.disconnect();let o=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),s.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let yi=!1,It=null,_s=new Set,kt=new Map,lt=!1,Ls=!1;const vi={Tab:!0,Escape:!0};function Js(e,s){for(let r of _s)r(e,s)}function ji(e){return!(e.metaKey||!hi()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Wt(e){lt=!0,ji(e)&&(It="keyboard",Js("keyboard",e))}function mt(e){It="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(lt=!0,Js("pointer",e))}function Aa(e){gi(e)&&(lt=!0,It="virtual")}function Pa(e){e.target===window||e.target===document||yi||!e.isTrusted||(!lt&&!Ls&&(It="virtual",Js("virtual",e)),lt=!1,Ls=!1)}function Ia(){lt=!1,Ls=!0}function Os(e){if(typeof window>"u"||typeof document>"u"||kt.get(st(e)))return;const s=st(e),r=Je(e);let a=s.HTMLElement.prototype.focus;s.HTMLElement.prototype.focus=function(){lt=!0,a.apply(this,arguments)},r.addEventListener("keydown",Wt,!0),r.addEventListener("keyup",Wt,!0),r.addEventListener("click",Aa,!0),s.addEventListener("focus",Pa,!0),s.addEventListener("blur",Ia,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",mt,!0),r.addEventListener("pointermove",mt,!0),r.addEventListener("pointerup",mt,!0)),s.addEventListener("beforeunload",()=>{Ra(e)},{once:!0}),kt.set(s,{focus:a})}const Ra=(e,s)=>{const r=st(e),a=Je(e);s&&a.removeEventListener("DOMContentLoaded",s),kt.has(r)&&(r.HTMLElement.prototype.focus=kt.get(r).focus,a.removeEventListener("keydown",Wt,!0),a.removeEventListener("keyup",Wt,!0),a.removeEventListener("click",Aa,!0),r.removeEventListener("focus",Pa,!0),r.removeEventListener("blur",Ia,!1),typeof PointerEvent<"u"&&(a.removeEventListener("pointerdown",mt,!0),a.removeEventListener("pointermove",mt,!0),a.removeEventListener("pointerup",mt,!0)),kt.delete(r))};function Ni(e){const s=Je(e);let r;return s.readyState!=="loading"?Os(e):(r=()=>{Os(e)},s.addEventListener("DOMContentLoaded",r)),()=>Ra(e,r)}typeof document<"u"&&Ni();function Ta(){return It!=="pointer"}const wi=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Si(e,s,r){let a=Je(r?.target);const n=typeof window<"u"?st(r?.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?st(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?st(r?.target).HTMLElement:HTMLElement,o=typeof window<"u"?st(r?.target).KeyboardEvent:KeyboardEvent;return e=e||a.activeElement instanceof n&&!wi.has(a.activeElement.type)||a.activeElement instanceof i||a.activeElement instanceof l&&a.activeElement.isContentEditable,!(e&&s==="keyboard"&&r instanceof o&&!vi[r.key])}function Ei(e,s,r){Os(),m.useEffect(()=>{let a=(n,i)=>{Si(!!r?.isTextInput,n,i)&&e(Ta())};return _s.add(a),()=>{_s.delete(a)}},s)}function ki(e){let{isDisabled:s,onFocus:r,onBlur:a,onFocusChange:n}=e;const i=m.useCallback(c=>{if(c.target===c.currentTarget)return a&&a(c),n&&n(!1),!0},[a,n]),l=Fa(i),o=m.useCallback(c=>{const d=Je(c.target),u=d?Ts(d):Ts();c.target===c.currentTarget&&u===Ea(c.nativeEvent)&&(r&&r(c),n&&n(!0),l(c))},[n,r,l]);return{focusProps:{onFocus:!s&&(r||n||a)?o:void 0,onBlur:!s&&(a||n)?i:void 0}}}function Ci(e){let{isDisabled:s,onBlurWithin:r,onFocusWithin:a,onFocusWithinChange:n}=e,i=m.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:o}=Ca(),c=m.useCallback(f=>{f.currentTarget.contains(f.target)&&i.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(i.current.isFocusWithin=!1,o(),r&&r(f),n&&n(!1))},[r,n,i,o]),d=Fa(c),u=m.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const p=Je(f.target),x=Ts(p);if(!i.current.isFocusWithin&&x===Ea(f.nativeEvent)){a&&a(f),n&&n(!0),i.current.isFocusWithin=!0,d(f);let b=f.currentTarget;l(p,"focus",y=>{if(i.current.isFocusWithin&&!Sa(b,y.target)){let g=new p.defaultView.FocusEvent("blur",{relatedTarget:y.target});bi(g,b);let v=$a(g);c(v)}},{capture:!0})}},[a,n,d,l,c]);return s?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}let Ms=!1,gs=0;function $i(){Ms=!0,setTimeout(()=>{Ms=!1},50)}function Fr(e){e.pointerType==="touch"&&$i()}function Fi(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Fr),gs++,()=>{gs--,!(gs>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Fr)}}function Ai(e){let{onHoverStart:s,onHoverChange:r,onHoverEnd:a,isDisabled:n}=e,[i,l]=m.useState(!1),o=m.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;m.useEffect(Fi,[]);let{addGlobalListener:c,removeAllGlobalListeners:d}=Ca(),{hoverProps:u,triggerHoverEnd:f}=m.useMemo(()=>{let p=(y,g)=>{if(o.pointerType=g,n||g==="touch"||o.isHovered||!y.currentTarget.contains(y.target))return;o.isHovered=!0;let v=y.currentTarget;o.target=v,c(Je(y.target),"pointerover",j=>{o.isHovered&&o.target&&!Sa(o.target,j.target)&&x(j,j.pointerType)},{capture:!0}),s&&s({type:"hoverstart",target:v,pointerType:g}),r&&r(!0),l(!0)},x=(y,g)=>{let v=o.target;o.pointerType="",o.target=null,!(g==="touch"||!o.isHovered||!v)&&(o.isHovered=!1,d(),a&&a({type:"hoverend",target:v,pointerType:g}),r&&r(!1),l(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=y=>{Ms&&y.pointerType==="mouse"||p(y,y.pointerType)},b.onPointerLeave=y=>{!n&&y.currentTarget.contains(y.target)&&x(y,y.pointerType)}),{hoverProps:b,triggerHoverEnd:x}},[s,r,a,n,o,c,d]);return m.useEffect(()=>{n&&f({currentTarget:o.target},o.pointerType)},[n]),{hoverProps:u,isHovered:i}}function Pi(e={}){let{autoFocus:s=!1,isTextInput:r,within:a}=e,n=m.useRef({isFocused:!1,isFocusVisible:s||Ta()}),[i,l]=m.useState(!1),[o,c]=m.useState(()=>n.current.isFocused&&n.current.isFocusVisible),d=m.useCallback(()=>c(n.current.isFocused&&n.current.isFocusVisible),[]),u=m.useCallback(x=>{n.current.isFocused=x,l(x),d()},[d]);Ei(x=>{n.current.isFocusVisible=x,d()},[],{isTextInput:r});let{focusProps:f}=ki({isDisabled:a,onFocusChange:u}),{focusWithinProps:p}=Ci({isDisabled:!a,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:o,focusProps:a?p:f}}var Ii=Object.defineProperty,Ri=(e,s,r)=>s in e?Ii(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,bs=(e,s,r)=>(Ri(e,typeof s!="symbol"?s+"":s,r),r);let Ti=class{constructor(){bs(this,"current",this.detect()),bs(this,"handoffState","pending"),bs(this,"currentId",0)}set(s){this.current!==s&&(this.handoffState="pending",this.currentId=0,this.current=s)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},it=new Ti;function pt(e){var s,r;return it.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(s=e.current)==null?void 0:s.ownerDocument)!=null?r:document:null:document}function _a(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(s=>setTimeout(()=>{throw s}))}function ve(){let e=[],s={addEventListener(r,a,n,i){return r.addEventListener(a,n,i),s.add(()=>r.removeEventListener(a,n,i))},requestAnimationFrame(...r){let a=requestAnimationFrame(...r);return s.add(()=>cancelAnimationFrame(a))},nextFrame(...r){return s.requestAnimationFrame(()=>s.requestAnimationFrame(...r))},setTimeout(...r){let a=setTimeout(...r);return s.add(()=>clearTimeout(a))},microTask(...r){let a={current:!0};return _a(()=>{a.current&&r[0]()}),s.add(()=>{a.current=!1})},style(r,a,n){let i=r.style.getPropertyValue(a);return Object.assign(r.style,{[a]:n}),this.add(()=>{Object.assign(r.style,{[a]:i})})},group(r){let a=ve();return r(a),this.add(()=>a.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let a=e.indexOf(r);if(a>=0)for(let n of e.splice(a,1))n()}},dispose(){for(let r of e.splice(0))r()}};return s}function Rt(){let[e]=m.useState(ve);return m.useEffect(()=>()=>e.dispose(),[e]),e}let Z=(e,s)=>{it.isServer?m.useEffect(e,s):m.useLayoutEffect(e,s)};function gt(e){let s=m.useRef(e);return Z(()=>{s.current=e},[e]),s}let U=function(e){let s=gt(e);return H.useCallback((...r)=>s.current(...r),[s])};function _i(e){let s=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+s,bottom:e.clientY+r,left:e.clientX-s}}function Li(e,s){return!(!e||!s||e.right<s.left||e.left>s.right||e.bottom<s.top||e.top>s.bottom)}function Oi({disabled:e=!1}={}){let s=m.useRef(null),[r,a]=m.useState(!1),n=Rt(),i=U(()=>{s.current=null,a(!1),n.dispose()}),l=U(o=>{if(n.dispose(),s.current===null){s.current=o.currentTarget,a(!0);{let c=pt(o.currentTarget);n.addEventListener(c,"pointerup",i,!1),n.addEventListener(c,"pointermove",d=>{if(s.current){let u=_i(d);a(Li(u,s.current.getBoundingClientRect()))}},!1),n.addEventListener(c,"pointercancel",i,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:i,onClick:i}}}let Mi=m.createContext(void 0);function La(){return m.useContext(Mi)}function Ds(...e){return Array.from(new Set(e.flatMap(s=>typeof s=="string"?s.split(" "):[]))).filter(Boolean).join(" ")}function Xe(e,s,...r){if(e in s){let n=s[e];return typeof n=="function"?n(...r):n}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(s).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Xe),a}var Gt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Gt||{}),Ke=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ke||{});function pe(){let e=Vi();return m.useCallback(s=>Di({mergeRefs:e,...s}),[e])}function Di({ourProps:e,theirProps:s,slot:r,defaultTag:a,features:n,visible:i=!0,name:l,mergeRefs:o}){o=o??Bi;let c=Oa(s,e);if(i)return Dt(c,r,a,l,o);let d=n??0;if(d&2){let{static:u=!1,...f}=c;if(u)return Dt(f,r,a,l,o)}if(d&1){let{unmount:u=!0,...f}=c;return Xe(u?0:1,{0(){return null},1(){return Dt({...f,hidden:!0,style:{display:"none"}},r,a,l,o)}})}return Dt(c,r,a,l,o)}function Dt(e,s={},r,a,n){let{as:i=r,children:l,refName:o="ref",...c}=ys(e,["unmount","static"]),d=e.ref!==void 0?{[o]:e.ref}:{},u=typeof l=="function"?l(s):l;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(s)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(s){let p=!1,x=[];for(let[b,y]of Object.entries(s))typeof y=="boolean"&&(p=!0),y===!0&&x.push(b.replace(/([A-Z])/g,g=>`-${g.toLowerCase()}`));if(p){f["data-headlessui-state"]=x.join(" ");for(let b of x)f[`data-${b}`]=""}}if(i===m.Fragment&&(Object.keys(tt(c)).length>0||Object.keys(tt(f)).length>0))if(!m.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(tt(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(tt(c)).concat(Object.keys(tt(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=u.props,x=p?.className,b=typeof x=="function"?(...v)=>Ds(x(...v),c.className):Ds(x,c.className),y=b?{className:b}:{},g=Oa(u.props,tt(ys(c,["ref"])));for(let v in f)v in g&&delete f[v];return m.cloneElement(u,Object.assign({},g,f,d,{ref:n(Hi(u),d.ref)},y))}return m.createElement(i,Object.assign({},ys(c,["ref"]),i!==m.Fragment&&d,i!==m.Fragment&&f),u)}function Vi(){let e=m.useRef([]),s=m.useCallback(r=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(r):a.current=r)},[]);return(...r)=>{if(!r.every(a=>a==null))return e.current=r,s}}function Bi(...e){return e.every(s=>s==null)?void 0:s=>{for(let r of e)r!=null&&(typeof r=="function"?r(s):r.current=s)}}function Oa(...e){if(e.length===0)return{};if(e.length===1)return e[0];let s={},r={};for(let a of e)for(let n in a)n.startsWith("on")&&typeof a[n]=="function"?(r[n]!=null||(r[n]=[]),r[n].push(a[n])):s[n]=a[n];if(s.disabled||s["aria-disabled"])for(let a in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(r[a]=[n=>{var i;return(i=n?.preventDefault)==null?void 0:i.call(n)}]);for(let a in r)Object.assign(s,{[a](n,...i){let l=r[a];for(let o of l){if((n instanceof Event||n?.nativeEvent instanceof Event)&&n.defaultPrevented)return;o(n,...i)}}});return s}function Ma(...e){if(e.length===0)return{};if(e.length===1)return e[0];let s={},r={};for(let a of e)for(let n in a)n.startsWith("on")&&typeof a[n]=="function"?(r[n]!=null||(r[n]=[]),r[n].push(a[n])):s[n]=a[n];for(let a in r)Object.assign(s,{[a](...n){let i=r[a];for(let l of i)l?.(...n)}});return s}function xe(e){var s;return Object.assign(m.forwardRef(e),{displayName:(s=e.displayName)!=null?s:e.name})}function tt(e){let s=Object.assign({},e);for(let r in s)s[r]===void 0&&delete s[r];return s}function ys(e,s=[]){let r=Object.assign({},e);for(let a of s)a in r&&delete r[a];return r}function Hi(e){return H.version.split(".")[0]>="19"?e.props.ref:e.ref}let qi=m.createContext(void 0);function Ui(){return m.useContext(qi)}function Xs(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function es(e){return Xs(e)&&"tagName"in e}function He(e){return es(e)&&"accessKey"in e}function rt(e){return es(e)&&"tabIndex"in e}function Wi(e){return es(e)&&"style"in e}function Gi(e){return He(e)&&e.nodeName==="IFRAME"}function Da(e){return He(e)&&e.nodeName==="INPUT"}function Ar(e){return He(e)&&e.nodeName==="LABEL"}function Ki(e){return He(e)&&e.nodeName==="FIELDSET"}function Va(e){return He(e)&&e.nodeName==="LEGEND"}function Yi(e){return es(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function zi(e){let s=e.parentElement,r=null;for(;s&&!Ki(s);)Va(s)&&(r=s),s=s.parentElement;let a=s?.getAttribute("disabled")==="";return a&&Qi(r)?!1:a}function Qi(e){if(!e)return!1;let s=e.previousElementSibling;for(;s!==null;){if(Va(s))return!1;s=s.previousElementSibling}return!0}let Ba=Symbol();function Ji(e,s=!0){return Object.assign(e,{[Ba]:s})}function Ce(...e){let s=m.useRef(e);m.useEffect(()=>{s.current=e},[e]);let r=U(a=>{for(let n of s.current)n!=null&&(typeof n=="function"?n(a):n.current=a)});return e.every(a=>a==null||a?.[Ba])?void 0:r}let Zs=m.createContext(null);Zs.displayName="DescriptionContext";function Ha(){let e=m.useContext(Zs);if(e===null){let s=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,Ha),s}return e}function Xi(){let[e,s]=m.useState([]);return[e.length>0?e.join(" "):void 0,m.useMemo(()=>function(r){let a=U(i=>(s(l=>[...l,i]),()=>s(l=>{let o=l.slice(),c=o.indexOf(i);return c!==-1&&o.splice(c,1),o}))),n=m.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props,value:r.value}),[a,r.slot,r.name,r.props,r.value]);return H.createElement(Zs.Provider,{value:n},r.children)},[s])]}let Zi="p";function el(e,s){let r=m.useId(),a=La(),{id:n=`headlessui-description-${r}`,...i}=e,l=Ha(),o=Ce(s);Z(()=>l.register(n),[n,l.register]);let c=a||!1,d=m.useMemo(()=>({...l.slot,disabled:c}),[l.slot,c]),u={ref:o,...l.props,id:n};return pe()({ourProps:u,theirProps:i,slot:d,defaultTag:Zi,name:l.name||"Description"})}let tl=xe(el);Object.assign(tl,{});var oe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(oe||{});let ts=m.createContext(null);ts.displayName="LabelContext";function er(){let e=m.useContext(ts);if(e===null){let s=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,er),s}return e}function sl(e){var s,r,a;let n=(r=(s=m.useContext(ts))==null?void 0:s.value)!=null?r:void 0;return((a=void 0)!=null?a:0)>0?[n,...e].filter(Boolean).join(" "):n}function qa({inherit:e=!1}={}){let s=sl(),[r,a]=m.useState([]),n=e?[s,...r].filter(Boolean):r;return[n.length>0?n.join(" "):void 0,m.useMemo(()=>function(i){let l=U(c=>(a(d=>[...d,c]),()=>a(d=>{let u=d.slice(),f=u.indexOf(c);return f!==-1&&u.splice(f,1),u}))),o=m.useMemo(()=>({register:l,slot:i.slot,name:i.name,props:i.props,value:i.value}),[l,i.slot,i.name,i.props,i.value]);return H.createElement(ts.Provider,{value:o},i.children)},[a])]}let rl="label";function al(e,s){var r;let a=m.useId(),n=er(),i=Ui(),l=La(),{id:o=`headlessui-label-${a}`,htmlFor:c=i??((r=n.props)==null?void 0:r.htmlFor),passive:d=!1,...u}=e,f=Ce(s);Z(()=>n.register(o),[o,n.register]);let p=U(g=>{let v=g.currentTarget;if(!(g.target!==g.currentTarget&&Yi(g.target))&&(Ar(v)&&g.preventDefault(),n.props&&"onClick"in n.props&&typeof n.props.onClick=="function"&&n.props.onClick(g),Ar(v))){let j=document.getElementById(v.htmlFor);if(j){let w=j.getAttribute("disabled");if(w==="true"||w==="")return;let C=j.getAttribute("aria-disabled");if(C==="true"||C==="")return;(Da(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),x=l||!1,b=m.useMemo(()=>({...n.slot,disabled:x}),[n.slot,x]),y={ref:f,...n.props,id:o,htmlFor:c,onClick:p};return d&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in u&&delete u.onClick),pe()({ourProps:y,theirProps:u,slot:b,defaultTag:c?rl:"div",name:n.name||"Label"})}let nl=xe(al);Object.assign(nl,{});function il(e){if(e===null)return{width:0,height:0};let{width:s,height:r}=e.getBoundingClientRect();return{width:s,height:r}}function ll(e,s=!1){let[r,a]=m.useReducer(()=>({}),{}),n=m.useMemo(()=>il(e),[e,r]);return Z(()=>{if(!e)return;let i=new ResizeObserver(a);return i.observe(e),()=>{i.disconnect()}},[e]),s?{width:`${n.width}px`,height:`${n.height}px`}:n}let Ua=class extends Map{constructor(s){super(),this.factory=s}get(s){let r=super.get(s);return r===void 0&&(r=this.factory(s),this.set(s,r)),r}};var ol=Object.defineProperty,cl=(e,s,r)=>s in e?ol(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,dl=(e,s,r)=>(cl(e,s+"",r),r),Wa=(e,s,r)=>{if(!s.has(e))throw TypeError("Cannot "+r)},ye=(e,s,r)=>(Wa(e,s,"read from private field"),r?r.call(e):s.get(e)),vs=(e,s,r)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,r)},Pr=(e,s,r,a)=>(Wa(e,s,"write to private field"),s.set(e,r),r),Fe,St,Et;let Ga=class{constructor(s){vs(this,Fe,{}),vs(this,St,new Ua(()=>new Set)),vs(this,Et,new Set),dl(this,"disposables",ve()),Pr(this,Fe,s)}dispose(){this.disposables.dispose()}get state(){return ye(this,Fe)}subscribe(s,r){let a={selector:s,callback:r,current:s(ye(this,Fe))};return ye(this,Et).add(a),this.disposables.add(()=>{ye(this,Et).delete(a)})}on(s,r){return ye(this,St).get(s).add(r),this.disposables.add(()=>{ye(this,St).get(s).delete(r)})}send(s){let r=this.reduce(ye(this,Fe),s);if(r!==ye(this,Fe)){Pr(this,Fe,r);for(let a of ye(this,Et)){let n=a.selector(ye(this,Fe));Ka(a.current,n)||(a.current=n,a.callback(n))}for(let a of ye(this,St).get(s.type))a(ye(this,Fe),s)}}};Fe=new WeakMap,St=new WeakMap,Et=new WeakMap;function Ka(e,s){return Object.is(e,s)?!0:typeof e!="object"||e===null||typeof s!="object"||s===null?!1:Array.isArray(e)&&Array.isArray(s)?e.length!==s.length?!1:js(e[Symbol.iterator](),s[Symbol.iterator]()):e instanceof Map&&s instanceof Map||e instanceof Set&&s instanceof Set?e.size!==s.size?!1:js(e.entries(),s.entries()):Ir(e)&&Ir(s)?js(Object.entries(e)[Symbol.iterator](),Object.entries(s)[Symbol.iterator]()):!1}function js(e,s){do{let r=e.next(),a=s.next();if(r.done&&a.done)return!0;if(r.done||a.done||!Object.is(r.value,a.value))return!1}while(!0)}function Ir(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let s=Object.getPrototypeOf(e);return s===null||Object.getPrototypeOf(s)===null}function Rr(e){let[s,r]=e(),a=ve();return(...n)=>{s(...n),a.dispose(),a.microTask(r)}}var ul=Object.defineProperty,ml=(e,s,r)=>s in e?ul(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,Tr=(e,s,r)=>(ml(e,typeof s!="symbol"?s+"":s,r),r),Ya=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Ya||{});let fl={0(e,s){let r=s.id,a=e.stack,n=e.stack.indexOf(r);if(n!==-1){let i=e.stack.slice();return i.splice(n,1),i.push(r),a=i,{...e,stack:a}}return{...e,stack:[...e.stack,r]}},1(e,s){let r=s.id,a=e.stack.indexOf(r);if(a===-1)return e;let n=e.stack.slice();return n.splice(a,1),{...e,stack:n}}},xl=class za extends Ga{constructor(){super(...arguments),Tr(this,"actions",{push:s=>this.send({type:0,id:s}),pop:s=>this.send({type:1,id:s})}),Tr(this,"selectors",{isTop:(s,r)=>s.stack[s.stack.length-1]===r,inStack:(s,r)=>s.stack.includes(r)})}static new(){return new za({stack:[]})}reduce(s,r){return Xe(r.type,fl,s,r)}};const tr=new Ua(()=>xl.new());var Ns={exports:{}},ws={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r;function hl(){if(_r)return ws;_r=1;var e=ja();function s(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:s,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return ws.useSyncExternalStoreWithSelector=function(c,d,u,f,p){var x=n(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function g(E){if(!v){if(v=!0,j=E,E=f(E),p!==void 0&&b.hasValue){var D=b.value;if(p(D,E))return w=D}return w=E}if(D=w,r(j,E))return D;var M=f(E);return p!==void 0&&p(D,M)?(j=E,D):(j=E,w=M)}var v=!1,j,w,C=u===void 0?null:u;return[function(){return g(d())},C===null?void 0:function(){return g(C())}]},[d,u,f,p]);var y=a(c,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),o(y),y},ws}var Lr;function pl(){return Lr||(Lr=1,Ns.exports=hl()),Ns.exports}var gl=pl();function Ie(e,s,r=Ka){return gl.useSyncExternalStoreWithSelector(U(a=>e.subscribe(bl,a)),U(()=>e.state),U(()=>e.state),U(s),r)}function bl(e){return e}function Qa(e,s){let r=m.useId(),a=tr.get(s),[n,i]=Ie(a,m.useCallback(l=>[a.selectors.isTop(l,r),a.selectors.inStack(l,r)],[a,r]));return Z(()=>{if(e)return a.actions.push(r),()=>a.actions.pop(r)},[a,e,r]),e?i?n:!0:!1}let Vs=new Map,Ct=new Map;function Or(e){var s;let r=(s=Ct.get(e))!=null?s:0;return Ct.set(e,r+1),r!==0?()=>Mr(e):(Vs.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Mr(e))}function Mr(e){var s;let r=(s=Ct.get(e))!=null?s:1;if(r===1?Ct.delete(e):Ct.set(e,r-1),r!==1)return;let a=Vs.get(e);a&&(a["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",a["aria-hidden"]),e.inert=a.inert,Vs.delete(e))}function yl(e,{allowed:s,disallowed:r}={}){let a=Qa(e,"inert-others");Z(()=>{var n,i;if(!a)return;let l=ve();for(let c of(n=r?.())!=null?n:[])c&&l.add(Or(c));let o=(i=s?.())!=null?i:[];for(let c of o){if(!c)continue;let d=pt(c);if(!d)continue;let u=c.parentElement;for(;u&&u!==d.body;){for(let f of u.children)o.some(p=>f.contains(p))||l.add(Or(f));u=u.parentElement}}return l.dispose},[a,s,r])}function vl(e,s,r){let a=gt(n=>{let i=n.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});m.useEffect(()=>{if(!e)return;let n=s===null?null:He(s)?s:s.current;if(!n)return;let i=ve();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>a.current(n));l.observe(n),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>a.current(n));l.observe(n),i.add(()=>l.disconnect())}return()=>i.dispose()},[s,a,e])}let Bs=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),jl=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Hs=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Hs||{}),Nl=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Nl||{}),wl=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(wl||{});function Ja(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Bs)).sort((s,r)=>Math.sign((s.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Sl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(jl)).sort((s,r)=>Math.sign((s.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var sr=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(sr||{});function rr(e,s=0){var r;return e===((r=pt(e))==null?void 0:r.body)?!1:Xe(s,{0(){return e.matches(Bs)},1(){let a=e;for(;a!==null;){if(a.matches(Bs))return!0;a=a.parentElement}return!1}})}function Xa(e){let s=pt(e);ve().nextFrame(()=>{s&&rt(s.activeElement)&&!rr(s.activeElement,0)&&kl(e)})}var El=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(El||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function kl(e){e?.focus({preventScroll:!0})}let Cl=["textarea","input"].join(",");function $l(e){var s,r;return(r=(s=e?.matches)==null?void 0:s.call(e,Cl))!=null?r:!1}function Za(e,s=r=>r){return e.slice().sort((r,a)=>{let n=s(r),i=s(a);if(n===null||i===null)return 0;let l=n.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Fl(e,s){return Al(Ja(),s,{relativeTo:e})}function Al(e,s,{sorted:r=!0,relativeTo:a=null,skipElements:n=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?r?Za(e):e:s&64?Sl(e):Ja(e);n.length>0&&l.length>1&&(l=l.filter(x=>!n.some(b=>b!=null&&"current"in b?b?.current===x:b===x))),a=a??i.activeElement;let o=(()=>{if(s&5)return 1;if(s&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(s&1)return 0;if(s&2)return Math.max(0,l.indexOf(a))-1;if(s&4)return Math.max(0,l.indexOf(a))+1;if(s&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=s&32?{preventScroll:!0}:{},u=0,f=l.length,p;do{if(u>=f||u+f<=0)return 0;let x=c+u;if(s&16)x=(x+f)%f;else{if(x<0)return 3;if(x>=f)return 1}p=l[x],p?.focus(d),u+=o}while(p!==i.activeElement);return s&6&&$l(p)&&p.select(),2}function en(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Pl(){return/Android/gi.test(window.navigator.userAgent)}function Dr(){return en()||Pl()}function ut(e,s,r,a){let n=gt(r);m.useEffect(()=>{if(!e)return;function i(l){n.current(l)}return document.addEventListener(s,i,a),()=>document.removeEventListener(s,i,a)},[e,s,a])}function Il(e,s,r,a){let n=gt(r);m.useEffect(()=>{if(!e)return;function i(l){n.current(l)}return window.addEventListener(s,i,a),()=>window.removeEventListener(s,i,a)},[e,s,a])}const Vr=30;function Rl(e,s,r){let a=gt(r),n=m.useCallback(function(o,c){if(o.defaultPrevented)return;let d=c(o);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let u=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(s);for(let f of u)if(f!==null&&(f.contains(d)||o.composed&&o.composedPath().includes(f)))return;return!rr(d,sr.Loose)&&d.tabIndex!==-1&&o.preventDefault(),a.current(o,d)},[a,s]),i=m.useRef(null);ut(e,"pointerdown",o=>{var c,d;Dr()||(i.current=((d=(c=o.composedPath)==null?void 0:c.call(o))==null?void 0:d[0])||o.target)},!0),ut(e,"pointerup",o=>{if(Dr()||!i.current)return;let c=i.current;return i.current=null,n(o,()=>c)},!0);let l=m.useRef({x:0,y:0});ut(e,"touchstart",o=>{l.current.x=o.touches[0].clientX,l.current.y=o.touches[0].clientY},!0),ut(e,"touchend",o=>{let c={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(c.x-l.current.x)>=Vr||Math.abs(c.y-l.current.y)>=Vr))return n(o,()=>rt(o.target)?o.target:null)},!0),Il(e,"blur",o=>n(o,()=>Gi(window.document.activeElement)?window.document.activeElement:null),!0)}function qs(...e){return m.useMemo(()=>pt(...e),[...e])}var Tl=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Tl||{});const Vt={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},_l=200;function Ll(e,{trigger:s,action:r,close:a,select:n}){let i=m.useRef(null);ut(e&&s!==null,"pointerdown",l=>{Xs(l?.target)&&s!=null&&s.contains(l.target)&&(i.current=new Date)}),ut(e&&s!==null,"pointerup",l=>{if(i.current===null||!rt(l.target))return;let o=r(l),c=new Date().getTime()-i.current.getTime();switch(i.current=null,o.kind){case 0:return;case 1:{c>_l&&(n(o.target),a());break}case 2:{a();break}}},{capture:!0})}function Ol(e,s){return m.useMemo(()=>{var r;if(e.type)return e.type;let a=(r=e.as)!=null?r:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||s?.tagName==="BUTTON"&&!s.hasAttribute("type"))return"button"},[e.type,e.as,s])}function Ml(e){return m.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Dl(e,s){let r=e(),a=new Set;return{getSnapshot(){return r},subscribe(n){return a.add(n),()=>a.delete(n)},dispatch(n,...i){let l=s[n].call(r,...i);l&&(r=l,a.forEach(o=>o()))}}}function Vl(){let e;return{before({doc:s}){var r;let a=s.documentElement,n=(r=s.defaultView)!=null?r:window;e=Math.max(0,n.innerWidth-a.clientWidth)},after({doc:s,d:r}){let a=s.documentElement,n=Math.max(0,a.clientWidth-a.offsetWidth),i=Math.max(0,e-n);r.style(a,"paddingRight",`${i}px`)}}}function Bl(){return en()?{before({doc:e,d:s,meta:r}){function a(n){return r.containers.flatMap(i=>i()).some(i=>i.contains(n))}s.microTask(()=>{var n;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let o=ve();o.style(e.documentElement,"scrollBehavior","auto"),s.add(()=>s.microTask(()=>o.dispose()))}let i=(n=window.scrollY)!=null?n:window.pageYOffset,l=null;s.addEventListener(e,"click",o=>{if(rt(o.target))try{let c=o.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),u=e.querySelector(d);rt(u)&&!a(u)&&(l=u)}catch{}},!0),s.addEventListener(e,"touchstart",o=>{if(rt(o.target)&&Wi(o.target))if(a(o.target)){let c=o.target;for(;c.parentElement&&a(c.parentElement);)c=c.parentElement;s.style(c,"overscrollBehavior","contain")}else s.style(o.target,"touchAction","none")}),s.addEventListener(e,"touchmove",o=>{if(rt(o.target)){if(Da(o.target))return;if(a(o.target)){let c=o.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),s.add(()=>{var o;let c=(o=window.scrollY)!=null?o:window.pageYOffset;i!==c&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Hl(){return{before({doc:e,d:s}){s.style(e.documentElement,"overflow","hidden")}}}function ql(e){let s={};for(let r of e)Object.assign(s,r(s));return s}let at=Dl(()=>new Map,{PUSH(e,s){var r;let a=(r=this.get(e))!=null?r:{doc:e,count:0,d:ve(),meta:new Set};return a.count++,a.meta.add(s),this.set(e,a),this},POP(e,s){let r=this.get(e);return r&&(r.count--,r.meta.delete(s)),this},SCROLL_PREVENT({doc:e,d:s,meta:r}){let a={doc:e,d:s,meta:ql(r)},n=[Bl(),Vl(),Hl()];n.forEach(({before:i})=>i?.(a)),n.forEach(({after:i})=>i?.(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});at.subscribe(()=>{let e=at.getSnapshot(),s=new Map;for(let[r]of e)s.set(r,r.documentElement.style.overflow);for(let r of e.values()){let a=s.get(r.doc)==="hidden",n=r.count!==0;(n&&!a||!n&&a)&&at.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&at.dispatch("TEARDOWN",r)}});function Ul(e,s,r=()=>({containers:[]})){let a=Ml(at),n=s?a.get(s):void 0,i=n?n.count>0:!1;return Z(()=>{if(!(!s||!e))return at.dispatch("PUSH",s,r),()=>at.dispatch("POP",s,r)},[e,s]),i}function Wl(e,s,r=()=>[document.body]){let a=Qa(e,"scroll-lock");Ul(a,s,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function Br(e){return[e.screenX,e.screenY]}function Gl(){let e=m.useRef([-1,-1]);return{wasMoved(s){let r=Br(s);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(s){e.current=Br(s)}}}function Kl(e=0){let[s,r]=m.useState(e),a=m.useCallback(c=>r(c),[s]),n=m.useCallback(c=>r(d=>d|c),[s]),i=m.useCallback(c=>(s&c)===c,[s]),l=m.useCallback(c=>r(d=>d&~c),[r]),o=m.useCallback(c=>r(d=>d^c),[r]);return{flags:s,setFlag:a,addFlag:n,hasFlag:i,removeFlag:l,toggleFlag:o}}var Yl={},Hr,qr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Hr=process==null?void 0:Yl)==null?void 0:Hr.NODE_ENV)==="test"&&typeof((qr=Element?.prototype)==null?void 0:qr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var zl=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(zl||{});function tn(e){let s={};for(let r in e)e[r]===!0&&(s[`data-${r}`]="");return s}function sn(e,s,r,a){let[n,i]=m.useState(r),{hasFlag:l,addFlag:o,removeFlag:c}=Kl(e&&n?3:0),d=m.useRef(!1),u=m.useRef(!1),f=Rt();return Z(()=>{var p;if(e){if(r&&i(!0),!s){r&&o(3);return}return(p=a?.start)==null||p.call(a,r),Ql(s,{inFlight:d,prepare(){u.current?u.current=!1:u.current=d.current,d.current=!0,!u.current&&(r?(o(3),c(4)):(o(4),c(2)))},run(){u.current?r?(c(3),o(4)):(c(4),o(3)):r?c(1):o(1)},done(){var x;u.current&&typeof s.getAnimations=="function"&&s.getAnimations().length>0||(d.current=!1,c(7),r||i(!1),(x=a?.end)==null||x.call(a,r))}})}},[e,r,s,f]),e?[n,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Ql(e,{prepare:s,run:r,done:a,inFlight:n}){let i=ve();return Xl(e,{prepare:s,inFlight:n}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(Jl(e,a))})}),i.dispose}function Jl(e,s){var r,a;let n=ve();if(!e)return n.dispose;let i=!1;n.add(()=>{i=!0});let l=(a=(r=e.getAnimations)==null?void 0:r.call(e).filter(o=>o instanceof CSSTransition))!=null?a:[];return l.length===0?(s(),n.dispose):(Promise.allSettled(l.map(o=>o.finished)).then(()=>{i||s()}),n.dispose)}function Xl(e,{inFlight:s,prepare:r}){if(s!=null&&s.current){r();return}let a=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=a}function Zl(e,{container:s,accept:r,walk:a}){let n=m.useRef(r),i=m.useRef(a);m.useEffect(()=>{n.current=r,i.current=a},[r,a]),Z(()=>{if(!s||!e)return;let l=pt(s);if(!l)return;let o=n.current,c=i.current,d=Object.assign(f=>o(f),{acceptNode:o}),u=l.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)c(u.currentNode)},[s,e,n,i])}function ss(){return typeof window<"u"}function bt(e){return rn(e)?(e.nodeName||"").toLowerCase():"#document"}function ge(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function Me(e){var s;return(s=(rn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function rn(e){return ss()?e instanceof Node||e instanceof ge(e).Node:!1}function fe(e){return ss()?e instanceof Element||e instanceof ge(e).Element:!1}function Oe(e){return ss()?e instanceof HTMLElement||e instanceof ge(e).HTMLElement:!1}function Ur(e){return!ss()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ge(e).ShadowRoot}const eo=new Set(["inline","contents"]);function Tt(e){const{overflow:s,overflowX:r,overflowY:a,display:n}=Ee(e);return/auto|scroll|overlay|hidden|clip/.test(s+a+r)&&!eo.has(n)}const to=new Set(["table","td","th"]);function so(e){return to.has(bt(e))}const ro=[":popover-open",":modal"];function rs(e){return ro.some(s=>{try{return e.matches(s)}catch{return!1}})}const ao=["transform","translate","scale","rotate","perspective"],no=["transform","translate","scale","rotate","perspective","filter"],io=["paint","layout","strict","content"];function ar(e){const s=nr(),r=fe(e)?Ee(e):e;return ao.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||no.some(a=>(r.willChange||"").includes(a))||io.some(a=>(r.contain||"").includes(a))}function lo(e){let s=ze(e);for(;Oe(s)&&!xt(s);){if(ar(s))return s;if(rs(s))return null;s=ze(s)}return null}function nr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oo=new Set(["html","body","#document"]);function xt(e){return oo.has(bt(e))}function Ee(e){return ge(e).getComputedStyle(e)}function as(e){return fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ze(e){if(bt(e)==="html")return e;const s=e.assignedSlot||e.parentNode||Ur(e)&&e.host||Me(e);return Ur(s)?s.host:s}function an(e){const s=ze(e);return xt(s)?e.ownerDocument?e.ownerDocument.body:e.body:Oe(s)&&Tt(s)?s:an(s)}function At(e,s,r){var a;s===void 0&&(s=[]),r===void 0&&(r=!0);const n=an(e),i=n===((a=e.ownerDocument)==null?void 0:a.body),l=ge(n);if(i){const o=Us(l);return s.concat(l,l.visualViewport||[],Tt(n)?n:[],o&&r?At(o):[])}return s.concat(n,At(n,[],r))}function Us(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function co(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(s=>{let{brand:r,version:a}=s;return r+"/"+a}).join(" "):navigator.userAgent}const ot=Math.min,de=Math.max,Pt=Math.round,Bt=Math.floor,Te=e=>({x:e,y:e}),uo={left:"right",right:"left",bottom:"top",top:"bottom"},mo={start:"end",end:"start"};function Wr(e,s,r){return de(e,ot(s,r))}function yt(e,s){return typeof e=="function"?e(s):e}function Qe(e){return e.split("-")[0]}function _t(e){return e.split("-")[1]}function nn(e){return e==="x"?"y":"x"}function ln(e){return e==="y"?"height":"width"}const fo=new Set(["top","bottom"]);function Be(e){return fo.has(Qe(e))?"y":"x"}function on(e){return nn(Be(e))}function xo(e,s,r){r===void 0&&(r=!1);const a=_t(e),n=on(e),i=ln(n);let l=n==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=Kt(l)),[l,Kt(l)]}function ho(e){const s=Kt(e);return[Ws(e),s,Ws(s)]}function Ws(e){return e.replace(/start|end/g,s=>mo[s])}const Gr=["left","right"],Kr=["right","left"],po=["top","bottom"],go=["bottom","top"];function bo(e,s,r){switch(e){case"top":case"bottom":return r?s?Kr:Gr:s?Gr:Kr;case"left":case"right":return s?po:go;default:return[]}}function yo(e,s,r,a){const n=_t(e);let i=bo(Qe(e),r==="start",a);return n&&(i=i.map(l=>l+"-"+n),s&&(i=i.concat(i.map(Ws)))),i}function Kt(e){return e.replace(/left|right|bottom|top/g,s=>uo[s])}function vo(e){return{top:0,right:0,bottom:0,left:0,...e}}function jo(e){return typeof e!="number"?vo(e):{top:e,right:e,bottom:e,left:e}}function Yt(e){const{x:s,y:r,width:a,height:n}=e;return{width:a,height:n,top:r,left:s,right:s+a,bottom:r+n,x:s,y:r}}function Yr(e,s,r){let{reference:a,floating:n}=e;const i=Be(s),l=on(s),o=ln(l),c=Qe(s),d=i==="y",u=a.x+a.width/2-n.width/2,f=a.y+a.height/2-n.height/2,p=a[o]/2-n[o]/2;let x;switch(c){case"top":x={x:u,y:a.y-n.height};break;case"bottom":x={x:u,y:a.y+a.height};break;case"right":x={x:a.x+a.width,y:f};break;case"left":x={x:a.x-n.width,y:f};break;default:x={x:a.x,y:a.y}}switch(_t(s)){case"start":x[l]-=p*(r&&d?-1:1);break;case"end":x[l]+=p*(r&&d?-1:1);break}return x}const No=async(e,s,r)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:l}=r,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(s));let d=await l.getElementRects({reference:e,floating:s,strategy:n}),{x:u,y:f}=Yr(d,a,c),p=a,x={},b=0;for(let y=0;y<o.length;y++){const{name:g,fn:v}=o[y],{x:j,y:w,data:C,reset:E}=await v({x:u,y:f,initialPlacement:a,placement:p,strategy:n,middlewareData:x,rects:d,platform:l,elements:{reference:e,floating:s}});u=j??u,f=w??f,x={...x,[g]:{...x[g],...C}},E&&b<=50&&(b++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(d=E.rects===!0?await l.getElementRects({reference:e,floating:s,strategy:n}):E.rects),{x:u,y:f}=Yr(d,p,c)),y=-1)}return{x:u,y:f,placement:p,strategy:n,middlewareData:x}};async function ns(e,s){var r;s===void 0&&(s={});const{x:a,y:n,platform:i,rects:l,elements:o,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:x=0}=yt(s,e),b=jo(x),g=o[p?f==="floating"?"reference":"floating":f],v=Yt(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),j=f==="floating"?{x:a,y:n,width:l.floating.width,height:l.floating.height}:l.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Yt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:j,offsetParent:w,strategy:c}):j);return{top:(v.top-E.top+b.top)/C.y,bottom:(E.bottom-v.bottom+b.bottom)/C.y,left:(v.left-E.left+b.left)/C.x,right:(E.right-v.right+b.right)/C.x}}const wo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var r,a;const{placement:n,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...g}=yt(e,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Qe(n),j=Be(o),w=Qe(o)===o,C=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=p||(w||!y?[Kt(o)]:ho(o)),D=b!=="none";!p&&D&&E.push(...yo(o,y,b,C));const M=[o,...E],K=await ns(s,g),W=[];let P=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&W.push(K[v]),f){const V=xo(n,l,C);W.push(K[V[0]],K[V[1]])}if(P=[...P,{placement:n,overflows:W}],!W.every(V=>V<=0)){var T,_;const V=(((T=i.flip)==null?void 0:T.index)||0)+1,G=M[V];if(G&&(!(f==="alignment"?j!==Be(G):!1)||P.every(B=>B.overflows[0]>0&&Be(B.placement)===j)))return{data:{index:V,overflows:P},reset:{placement:G}};let q=(_=P.filter(Y=>Y.overflows[0]<=0).sort((Y,B)=>Y.overflows[1]-B.overflows[1])[0])==null?void 0:_.placement;if(!q)switch(x){case"bestFit":{var O;const Y=(O=P.filter(B=>{if(D){const $=Be(B.placement);return $===j||$==="y"}return!0}).map(B=>[B.placement,B.overflows.filter($=>$>0).reduce(($,z)=>$+z,0)]).sort((B,$)=>B[1]-$[1])[0])==null?void 0:O[0];Y&&(q=Y);break}case"initialPlacement":q=o;break}if(n!==q)return{reset:{placement:q}}}return{}}}},So=new Set(["left","top"]);async function Eo(e,s){const{placement:r,platform:a,elements:n}=e,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),l=Qe(r),o=_t(r),c=Be(r)==="y",d=So.has(l)?-1:1,u=i&&c?-1:1,f=yt(s,e);let{mainAxis:p,crossAxis:x,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof b=="number"&&(x=o==="end"?b*-1:b),c?{x:x*u,y:p*d}:{x:p*d,y:x*u}}const ko=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var r,a;const{x:n,y:i,placement:l,middlewareData:o}=s,c=await Eo(s,e);return l===((r=o.offset)==null?void 0:r.placement)&&(a=o.arrow)!=null&&a.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:l}}}}},Co=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:r,y:a,placement:n}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:g=>{let{x:v,y:j}=g;return{x:v,y:j}}},...c}=yt(e,s),d={x:r,y:a},u=await ns(s,c),f=Be(Qe(n)),p=nn(f);let x=d[p],b=d[f];if(i){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",j=x+u[g],w=x-u[v];x=Wr(j,x,w)}if(l){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",j=b+u[g],w=b-u[v];b=Wr(j,b,w)}const y=o.fn({...s,[p]:x,[f]:b});return{...y,data:{x:y.x-r,y:y.y-a,enabled:{[p]:i,[f]:l}}}}}},$o=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var r,a;const{placement:n,rects:i,platform:l,elements:o}=s,{apply:c=()=>{},...d}=yt(e,s),u=await ns(s,d),f=Qe(n),p=_t(n),x=Be(n)==="y",{width:b,height:y}=i.floating;let g,v;f==="top"||f==="bottom"?(g=f,v=p===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,g=p==="end"?"top":"bottom");const j=y-u.top-u.bottom,w=b-u.left-u.right,C=ot(y-u[g],j),E=ot(b-u[v],w),D=!s.middlewareData.shift;let M=C,K=E;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(K=w),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(M=j),D&&!p){const P=de(u.left,0),T=de(u.right,0),_=de(u.top,0),O=de(u.bottom,0);x?K=b-2*(P!==0||T!==0?P+T:de(u.left,u.right)):M=y-2*(_!==0||O!==0?_+O:de(u.top,u.bottom))}await c({...s,availableWidth:K,availableHeight:M});const W=await l.getDimensions(o.floating);return b!==W.width||y!==W.height?{reset:{rects:!0}}:{}}}};function cn(e){const s=Ee(e);let r=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const n=Oe(e),i=n?e.offsetWidth:r,l=n?e.offsetHeight:a,o=Pt(r)!==i||Pt(a)!==l;return o&&(r=i,a=l),{width:r,height:a,$:o}}function ir(e){return fe(e)?e:e.contextElement}function ft(e){const s=ir(e);if(!Oe(s))return Te(1);const r=s.getBoundingClientRect(),{width:a,height:n,$:i}=cn(s);let l=(i?Pt(r.width):r.width)/a,o=(i?Pt(r.height):r.height)/n;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const Fo=Te(0);function dn(e){const s=ge(e);return!nr()||!s.visualViewport?Fo:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Ao(e,s,r){return s===void 0&&(s=!1),!r||s&&r!==ge(e)?!1:s}function ct(e,s,r,a){s===void 0&&(s=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=ir(e);let l=Te(1);s&&(a?fe(a)&&(l=ft(a)):l=ft(e));const o=Ao(i,r,a)?dn(i):Te(0);let c=(n.left+o.x)/l.x,d=(n.top+o.y)/l.y,u=n.width/l.x,f=n.height/l.y;if(i){const p=ge(i),x=a&&fe(a)?ge(a):a;let b=p,y=Us(b);for(;y&&a&&x!==b;){const g=ft(y),v=y.getBoundingClientRect(),j=Ee(y),w=v.left+(y.clientLeft+parseFloat(j.paddingLeft))*g.x,C=v.top+(y.clientTop+parseFloat(j.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=C,b=ge(y),y=Us(b)}}return Yt({width:u,height:f,x:c,y:d})}function lr(e,s){const r=as(e).scrollLeft;return s?s.left+r:ct(Me(e)).left+r}function un(e,s,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),n=a.left+s.scrollLeft-(r?0:lr(e,a)),i=a.top+s.scrollTop;return{x:n,y:i}}function Po(e){let{elements:s,rect:r,offsetParent:a,strategy:n}=e;const i=n==="fixed",l=Me(a),o=s?rs(s.floating):!1;if(a===l||o&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Te(1);const u=Te(0),f=Oe(a);if((f||!f&&!i)&&((bt(a)!=="body"||Tt(l))&&(c=as(a)),Oe(a))){const x=ct(a);d=ft(a),u.x=x.x+a.clientLeft,u.y=x.y+a.clientTop}const p=l&&!f&&!i?un(l,c,!0):Te(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:r.y*d.y-c.scrollTop*d.y+u.y+p.y}}function Io(e){return Array.from(e.getClientRects())}function Ro(e){const s=Me(e),r=as(e),a=e.ownerDocument.body,n=de(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),i=de(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+lr(e);const o=-r.scrollTop;return Ee(a).direction==="rtl"&&(l+=de(s.clientWidth,a.clientWidth)-n),{width:n,height:i,x:l,y:o}}function To(e,s){const r=ge(e),a=Me(e),n=r.visualViewport;let i=a.clientWidth,l=a.clientHeight,o=0,c=0;if(n){i=n.width,l=n.height;const d=nr();(!d||d&&s==="fixed")&&(o=n.offsetLeft,c=n.offsetTop)}return{width:i,height:l,x:o,y:c}}const _o=new Set(["absolute","fixed"]);function Lo(e,s){const r=ct(e,!0,s==="fixed"),a=r.top+e.clientTop,n=r.left+e.clientLeft,i=Oe(e)?ft(e):Te(1),l=e.clientWidth*i.x,o=e.clientHeight*i.y,c=n*i.x,d=a*i.y;return{width:l,height:o,x:c,y:d}}function zr(e,s,r){let a;if(s==="viewport")a=To(e,r);else if(s==="document")a=Ro(Me(e));else if(fe(s))a=Lo(s,r);else{const n=dn(e);a={x:s.x-n.x,y:s.y-n.y,width:s.width,height:s.height}}return Yt(a)}function mn(e,s){const r=ze(e);return r===s||!fe(r)||xt(r)?!1:Ee(r).position==="fixed"||mn(r,s)}function Oo(e,s){const r=s.get(e);if(r)return r;let a=At(e,[],!1).filter(o=>fe(o)&&bt(o)!=="body"),n=null;const i=Ee(e).position==="fixed";let l=i?ze(e):e;for(;fe(l)&&!xt(l);){const o=Ee(l),c=ar(l);!c&&o.position==="fixed"&&(n=null),(i?!c&&!n:!c&&o.position==="static"&&!!n&&_o.has(n.position)||Tt(l)&&!c&&mn(e,l))?a=a.filter(u=>u!==l):n=o,l=ze(l)}return s.set(e,a),a}function Mo(e){let{element:s,boundary:r,rootBoundary:a,strategy:n}=e;const l=[...r==="clippingAncestors"?rs(s)?[]:Oo(s,this._c):[].concat(r),a],o=l[0],c=l.reduce((d,u)=>{const f=zr(s,u,n);return d.top=de(f.top,d.top),d.right=ot(f.right,d.right),d.bottom=ot(f.bottom,d.bottom),d.left=de(f.left,d.left),d},zr(s,o,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Do(e){const{width:s,height:r}=cn(e);return{width:s,height:r}}function Vo(e,s,r){const a=Oe(s),n=Me(s),i=r==="fixed",l=ct(e,!0,i,s);let o={scrollLeft:0,scrollTop:0};const c=Te(0);function d(){c.x=lr(n)}if(a||!a&&!i)if((bt(s)!=="body"||Tt(n))&&(o=as(s)),a){const x=ct(s,!0,i,s);c.x=x.x+s.clientLeft,c.y=x.y+s.clientTop}else n&&d();i&&!a&&n&&d();const u=n&&!a&&!i?un(n,o):Te(0),f=l.left+o.scrollLeft-c.x-u.x,p=l.top+o.scrollTop-c.y-u.y;return{x:f,y:p,width:l.width,height:l.height}}function Ss(e){return Ee(e).position==="static"}function Qr(e,s){if(!Oe(e)||Ee(e).position==="fixed")return null;if(s)return s(e);let r=e.offsetParent;return Me(e)===r&&(r=r.ownerDocument.body),r}function fn(e,s){const r=ge(e);if(rs(e))return r;if(!Oe(e)){let n=ze(e);for(;n&&!xt(n);){if(fe(n)&&!Ss(n))return n;n=ze(n)}return r}let a=Qr(e,s);for(;a&&so(a)&&Ss(a);)a=Qr(a,s);return a&&xt(a)&&Ss(a)&&!ar(a)?r:a||lo(e)||r}const Bo=async function(e){const s=this.getOffsetParent||fn,r=this.getDimensions,a=await r(e.floating);return{reference:Vo(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Ho(e){return Ee(e).direction==="rtl"}const qo={convertOffsetParentRelativeRectToViewportRelativeRect:Po,getDocumentElement:Me,getClippingRect:Mo,getOffsetParent:fn,getElementRects:Bo,getClientRects:Io,getDimensions:Do,getScale:ft,isElement:fe,isRTL:Ho};function xn(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function Uo(e,s){let r=null,a;const n=Me(e);function i(){var o;clearTimeout(a),(o=r)==null||o.disconnect(),r=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:x}=d;if(o||s(),!p||!x)return;const b=Bt(f),y=Bt(n.clientWidth-(u+p)),g=Bt(n.clientHeight-(f+x)),v=Bt(u),w={rootMargin:-b+"px "+-y+"px "+-g+"px "+-v+"px",threshold:de(0,ot(1,c))||1};let C=!0;function E(D){const M=D[0].intersectionRatio;if(M!==c){if(!C)return l();M?l(!1,M):a=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!xn(d,e.getBoundingClientRect())&&l(),C=!1}try{r=new IntersectionObserver(E,{...w,root:n.ownerDocument})}catch{r=new IntersectionObserver(E,w)}r.observe(e)}return l(!0),i}function Wo(e,s,r,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=ir(e),u=n||i?[...d?At(d):[],...At(s)]:[];u.forEach(v=>{n&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=d&&o?Uo(d,r):null;let p=-1,x=null;l&&(x=new ResizeObserver(v=>{let[j]=v;j&&j.target===d&&x&&(x.unobserve(s),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(s)})),r()}),d&&!c&&x.observe(d),x.observe(s));let b,y=c?ct(e):null;c&&g();function g(){const v=ct(e);y&&!xn(y,v)&&r(),y=v,b=requestAnimationFrame(g)}return r(),()=>{var v;u.forEach(j=>{n&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),f?.(),(v=x)==null||v.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const Es=ns,Go=ko,Ko=Co,Yo=wo,zo=$o,Qo=(e,s,r)=>{const a=new Map,n={platform:qo,...r},i={...n.platform,_c:a};return No(e,s,{...n,platform:i})};var Jo=typeof document<"u",Xo=function(){},qt=Jo?m.useLayoutEffect:Xo;function zt(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let r,a,n;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==s.length)return!1;for(a=r;a--!==0;)if(!zt(e[a],s[a]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(s).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(s,n[a]))return!1;for(a=r;a--!==0;){const i=n[a];if(!(i==="_owner"&&e.$$typeof)&&!zt(e[i],s[i]))return!1}return!0}return e!==e&&s!==s}function hn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jr(e,s){const r=hn(e);return Math.round(s*r)/r}function ks(e){const s=m.useRef(e);return qt(()=>{s.current=e}),s}function Zo(e){e===void 0&&(e={});const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[p,x]=m.useState(a);zt(p,a)||x(a);const[b,y]=m.useState(null),[g,v]=m.useState(null),j=m.useCallback(B=>{B!==D.current&&(D.current=B,y(B))},[]),w=m.useCallback(B=>{B!==M.current&&(M.current=B,v(B))},[]),C=i||b,E=l||g,D=m.useRef(null),M=m.useRef(null),K=m.useRef(u),W=c!=null,P=ks(c),T=ks(n),_=ks(d),O=m.useCallback(()=>{if(!D.current||!M.current)return;const B={placement:s,strategy:r,middleware:p};T.current&&(B.platform=T.current),Qo(D.current,M.current,B).then($=>{const z={...$,isPositioned:_.current!==!1};V.current&&!zt(K.current,z)&&(K.current=z,Ye.flushSync(()=>{f(z)}))})},[p,s,r,T,_]);qt(()=>{d===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[d]);const V=m.useRef(!1);qt(()=>(V.current=!0,()=>{V.current=!1}),[]),qt(()=>{if(C&&(D.current=C),E&&(M.current=E),C&&E){if(P.current)return P.current(C,E,O);O()}},[C,E,O,P,W]);const G=m.useMemo(()=>({reference:D,floating:M,setReference:j,setFloating:w}),[j,w]),q=m.useMemo(()=>({reference:C,floating:E}),[C,E]),Y=m.useMemo(()=>{const B={position:r,left:0,top:0};if(!q.floating)return B;const $=Jr(q.floating,u.x),z=Jr(q.floating,u.y);return o?{...B,transform:"translate("+$+"px, "+z+"px)",...hn(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:z}},[r,o,q.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:O,refs:G,elements:q,floatingStyles:Y}),[u,O,G,q,Y])}const pn=(e,s)=>({...Go(e),options:[e,s]}),ec=(e,s)=>({...Ko(e),options:[e,s]}),tc=(e,s)=>({...Yo(e),options:[e,s]}),sc=(e,s)=>({...zo(e),options:[e,s]}),gn={...Ps},rc=gn.useInsertionEffect,ac=rc||(e=>e());function bn(e){const s=m.useRef(()=>{});return ac(()=>{s.current=e}),m.useCallback(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return s.current==null?void 0:s.current(...a)},[])}var Gs=typeof document<"u"?m.useLayoutEffect:m.useEffect;let Xr=!1,nc=0;const Zr=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nc++;function ic(){const[e,s]=m.useState(()=>Xr?Zr():void 0);return Gs(()=>{e==null&&s(Zr())},[]),m.useEffect(()=>{Xr=!0},[]),e}const lc=gn.useId,oc=lc||ic;function cc(){const e=new Map;return{emit(s,r){var a;(a=e.get(s))==null||a.forEach(n=>n(r))},on(s,r){e.set(s,[...e.get(s)||[],r])},off(s,r){var a;e.set(s,((a=e.get(s))==null?void 0:a.filter(n=>n!==r))||[])}}}const dc=m.createContext(null),uc=m.createContext(null),mc=()=>{var e;return((e=m.useContext(dc))==null?void 0:e.id)||null},fc=()=>m.useContext(uc),xc="data-floating-ui-focusable";function hc(e){const{open:s=!1,onOpenChange:r,elements:a}=e,n=oc(),i=m.useRef({}),[l]=m.useState(()=>cc()),o=mc()!=null,[c,d]=m.useState(a.reference),u=bn((x,b,y)=>{i.current.openEvent=x?b:void 0,l.emit("openchange",{open:x,event:b,reason:y,nested:o}),r?.(x,b,y)}),f=m.useMemo(()=>({setPositionReference:d}),[]),p=m.useMemo(()=>({reference:c||a.reference||null,floating:a.floating||null,domReference:a.reference}),[c,a.reference,a.floating]);return m.useMemo(()=>({dataRef:i,open:s,onOpenChange:u,elements:p,events:l,floatingId:n,refs:f}),[s,u,p,l,n,f])}function pc(e){e===void 0&&(e={});const{nodeId:s}=e,r=hc({...e,elements:{reference:null,floating:null,...e.elements}}),a=e.rootContext||r,n=a.elements,[i,l]=m.useState(null),[o,c]=m.useState(null),u=n?.domReference||i,f=m.useRef(null),p=fc();Gs(()=>{u&&(f.current=u)},[u]);const x=Zo({...e,elements:{...n,...o&&{reference:o}}}),b=m.useCallback(w=>{const C=fe(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c(C),x.refs.setReference(C)},[x.refs]),y=m.useCallback(w=>{(fe(w)||w===null)&&(f.current=w,l(w)),(fe(x.refs.reference.current)||x.refs.reference.current===null||w!==null&&!fe(w))&&x.refs.setReference(w)},[x.refs]),g=m.useMemo(()=>({...x.refs,setReference:y,setPositionReference:b,domReference:f}),[x.refs,y,b]),v=m.useMemo(()=>({...x.elements,domReference:u}),[x.elements,u]),j=m.useMemo(()=>({...x,...a,refs:g,elements:v,nodeId:s}),[x,g,v,s,a]);return Gs(()=>{a.dataRef.current.floatingContext=j;const w=p?.nodesRef.current.find(C=>C.id===s);w&&(w.context=j)}),m.useMemo(()=>({...x,context:j,refs:g,elements:v}),[x,g,v,j])}const ea="active",ta="selected";function Cs(e,s,r){const a=new Map,n=r==="item";let i=e;if(n&&e){const{[ea]:l,[ta]:o,...c}=e;i=c}return{...r==="floating"&&{tabIndex:-1,[xc]:""},...i,...s.map(l=>{const o=l?l[r]:null;return typeof o=="function"?e?o(e):null:o}).concat(e).reduce((l,o)=>(o&&Object.entries(o).forEach(c=>{let[d,u]=c;if(!(n&&[ea,ta].includes(d)))if(d.indexOf("on")===0){if(a.has(d)||a.set(d,[]),typeof u=="function"){var f;(f=a.get(d))==null||f.push(u),l[d]=function(){for(var p,x=arguments.length,b=new Array(x),y=0;y<x;y++)b[y]=arguments[y];return(p=a.get(d))==null?void 0:p.map(g=>g(...b)).find(g=>g!==void 0)}}}else l[d]=u}),l),{})}}function gc(e){e===void 0&&(e=[]);const s=e.map(o=>o?.reference),r=e.map(o=>o?.floating),a=e.map(o=>o?.item),n=m.useCallback(o=>Cs(o,e,"reference"),s),i=m.useCallback(o=>Cs(o,e,"floating"),r),l=m.useCallback(o=>Cs(o,e,"item"),a);return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:i,getItemProps:l}),[n,i,l])}function sa(e,s){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:s}}}}const bc=e=>({name:"inner",options:e,async fn(s){const{listRef:r,overflowRef:a,onFallbackChange:n,offset:i=0,index:l=0,minItemsVisible:o=4,referenceOverflowThreshold:c=0,scrollRef:d,...u}=yt(e,s),{rects:f,elements:{floating:p}}=s,x=r.current[l],b=d?.current||p,y=p.clientTop||b.clientTop,g=p.clientTop!==0,v=b.clientTop!==0,j=p===b;if(!x)return{};const w={...s,...await pn(-x.offsetTop-p.clientTop-f.reference.height/2-x.offsetHeight/2-i).fn(s)},C=await Es(sa(w,b.scrollHeight+y+p.clientTop),u),E=await Es(w,{...u,elementContext:"reference"}),D=de(0,C.top),M=w.y+D,P=(b.scrollHeight>b.clientHeight?T=>T:Pt)(de(0,b.scrollHeight+(g&&j||v?y*2:0)-D-de(0,C.bottom)));if(b.style.maxHeight=P+"px",b.scrollTop=D,n){const T=b.offsetHeight<x.offsetHeight*ot(o,r.current.length)-1||E.top>=-c||E.bottom>=-c;Ye.flushSync(()=>n(T))}return a&&(a.current=await Es(sa({...w,y:M},b.offsetHeight+y+p.clientTop),u)),{y:M}}});function yc(e,s){const{open:r,elements:a}=e,{enabled:n=!0,overflowRef:i,scrollRef:l,onChange:o}=s,c=bn(o),d=m.useRef(!1),u=m.useRef(null),f=m.useRef(null);m.useEffect(()=>{if(!n)return;function x(y){if(y.ctrlKey||!b||i.current==null)return;const g=y.deltaY,v=i.current.top>=-.5,j=i.current.bottom>=-.5,w=b.scrollHeight-b.clientHeight,C=g<0?-1:1,E=g<0?"max":"min";b.scrollHeight<=b.clientHeight||(!v&&g>0||!j&&g<0?(y.preventDefault(),Ye.flushSync(()=>{c(D=>D+Math[E](g,w*C))})):/firefox/i.test(co())&&(b.scrollTop+=g))}const b=l?.current||a.floating;if(r&&b)return b.addEventListener("wheel",x),requestAnimationFrame(()=>{u.current=b.scrollTop,i.current!=null&&(f.current={...i.current})}),()=>{u.current=null,f.current=null,b.removeEventListener("wheel",x)}},[n,r,a.floating,i,l,c]);const p=m.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const x=l?.current||a.floating;if(!(!i.current||!x||!d.current)){if(u.current!==null){const b=x.scrollTop-u.current;(i.current.bottom<-.5&&b<-1||i.current.top<-.5&&b>1)&&Ye.flushSync(()=>c(y=>y+b))}requestAnimationFrame(()=>{u.current=x.scrollTop})}}}),[a.floating,c,i,l]);return m.useMemo(()=>n?{floating:p}:{},[n,p])}let vt=m.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});vt.displayName="FloatingContext";let or=m.createContext(null);or.displayName="PlacementContext";function vc(e){return m.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function jc(){return m.useContext(vt).setReference}function Nc(){return m.useContext(vt).getReferenceProps}function wc(){let{getFloatingProps:e,slot:s}=m.useContext(vt);return m.useCallback((...r)=>Object.assign({},e(...r),{"data-anchor":s.anchor}),[e,s])}function Sc(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let s=m.useContext(or),r=m.useMemo(()=>e,[JSON.stringify(e,(n,i)=>{var l;return(l=i?.outerHTML)!=null?l:i})]);Z(()=>{s?.(r??null)},[s,r]);let a=m.useContext(vt);return m.useMemo(()=>[a.setFloating,e?a.styles:{}],[a.setFloating,e,a.styles])}let ra=4;function Ec({children:e,enabled:s=!0}){let[r,a]=m.useState(null),[n,i]=m.useState(0),l=m.useRef(null),[o,c]=m.useState(null);kc(o);let d=s&&r!==null&&o!==null,{to:u="bottom",gap:f=0,offset:p=0,padding:x=0,inner:b}=Cc(r,o),[y,g="center"]=u.split(" ");Z(()=>{d&&i(0)},[d]);let{refs:v,floatingStyles:j,context:w}=pc({open:d,placement:y==="selection"?g==="center"?"bottom":`bottom-${g}`:g==="center"?`${y}`:`${y}-${g}`,strategy:"absolute",transform:!1,middleware:[pn({mainAxis:y==="selection"?0:f,crossAxis:p}),ec({padding:x}),y!=="selection"&&tc({padding:x}),y==="selection"&&b?bc({...b,padding:x,overflowRef:l,offset:n,minItemsVisible:ra,referenceOverflowThreshold:x,onFallbackChange(T){var _,O;if(!T)return;let V=w.elements.floating;if(!V)return;let G=parseFloat(getComputedStyle(V).scrollPaddingBottom)||0,q=Math.min(ra,V.childElementCount),Y=0,B=0;for(let $ of(O=(_=w.elements.floating)==null?void 0:_.childNodes)!=null?O:[])if(He($)){let z=$.offsetTop,je=z+$.clientHeight+G,$e=V.scrollTop,re=$e+V.clientHeight;if(z>=$e&&je<=re)q--;else{B=Math.max(0,Math.min(je,re)-Math.max(z,$e)),Y=$.clientHeight;break}}q>=1&&i($=>{let z=Y*q-B+G;return $>=z?$:z})}}):null,sc({padding:x,apply({availableWidth:T,availableHeight:_,elements:O}){Object.assign(O.floating.style,{overflow:"auto",maxWidth:`${T}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${_}px)`})}})].filter(Boolean),whileElementsMounted:Wo}),[C=y,E=g]=w.placement.split("-");y==="selection"&&(C="selection");let D=m.useMemo(()=>({anchor:[C,E].filter(Boolean).join(" ")}),[C,E]),M=yc(w,{overflowRef:l,onChange:i}),{getReferenceProps:K,getFloatingProps:W}=gc([M]),P=U(T=>{c(T),v.setFloating(T)});return m.createElement(or.Provider,{value:a},m.createElement(vt.Provider,{value:{setFloating:P,setReference:v.setReference,styles:j,getReferenceProps:K,getFloatingProps:W,slot:D}},e))}function kc(e){Z(()=>{if(!e)return;let s=new MutationObserver(()=>{let r=window.getComputedStyle(e).maxHeight,a=parseFloat(r);if(isNaN(a))return;let n=parseInt(r);isNaN(n)||a!==n&&(e.style.maxHeight=`${Math.ceil(a)}px`)});return s.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{s.disconnect()}},[e])}function Cc(e,s){var r,a,n;let i=$s((r=e?.gap)!=null?r:"var(--anchor-gap, 0)",s),l=$s((a=e?.offset)!=null?a:"var(--anchor-offset, 0)",s),o=$s((n=e?.padding)!=null?n:"var(--anchor-padding, 0)",s);return{...e,gap:i,offset:l,padding:o}}function $s(e,s,r=void 0){let a=Rt(),n=U((c,d)=>{if(c==null)return[r,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!d)return[r,null];let u=aa(c,d);return[u,f=>{let p=yn(c);{let x=p.map(b=>window.getComputedStyle(d).getPropertyValue(b));a.requestAnimationFrame(function b(){a.nextFrame(b);let y=!1;for(let[v,j]of p.entries()){let w=window.getComputedStyle(d).getPropertyValue(j);if(x[v]!==w){x[v]=w,y=!0;break}}if(!y)return;let g=aa(c,d);u!==g&&(f(g),u=g)})}return a.dispose}]}return[r,null]}),i=m.useMemo(()=>n(e,s)[0],[e,s]),[l=i,o]=m.useState();return Z(()=>{let[c,d]=n(e,s);if(o(c),!!d)return d(o)},[e,s]),l}function yn(e){let s=/var\((.*)\)/.exec(e);if(s){let r=s[1].indexOf(",");if(r===-1)return[s[1]];let a=s[1].slice(0,r).trim(),n=s[1].slice(r+1).trim();return n?[a,...yn(n)]:[a]}return[]}function aa(e,s){let r=document.createElement("div");s.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let a=parseFloat(window.getComputedStyle(r).marginTop)||0;return s.removeChild(r),a}let cr=m.createContext(null);cr.displayName="OpenClosedContext";var Se=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Se||{});function dr(){return m.useContext(cr)}function vn({value:e,children:s}){return H.createElement(cr.Provider,{value:e},s)}function $c(e){throw new Error("Unexpected object: "+e)}var te=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(te||{});function Ht(e,s){let r=s.resolveItems();if(r.length<=0)return null;let a=s.resolveActiveIndex(),n=a??-1;switch(e.focus){case 0:{for(let i=0;i<r.length;++i)if(!s.resolveDisabled(r[i],i,r))return i;return a}case 1:{n===-1&&(n=r.length);for(let i=n-1;i>=0;--i)if(!s.resolveDisabled(r[i],i,r))return i;return a}case 2:{for(let i=n+1;i<r.length;++i)if(!s.resolveDisabled(r[i],i,r))return i;return a}case 3:{for(let i=r.length-1;i>=0;--i)if(!s.resolveDisabled(r[i],i,r))return i;return a}case 4:{for(let i=0;i<r.length;++i)if(s.resolveId(r[i],i,r)===e.id)return i;return a}case 5:return null;default:$c(e)}}function jn(e){let s=U(e),r=m.useRef(!1);m.useEffect(()=>(r.current=!1,()=>{r.current=!0,_a(()=>{r.current&&s()})}),[s])}function Fc(){let e=typeof document>"u";return"useSyncExternalStore"in Ps?(s=>s.useSyncExternalStore)(Ps)(()=>()=>{},()=>!1,()=>!e):!1}function ur(){let e=Fc(),[s,r]=m.useState(it.isHandoffComplete);return s&&it.isHandoffComplete===!1&&r(!1),m.useEffect(()=>{s!==!0&&r(!0)},[s]),m.useEffect(()=>it.handoff(),[]),e?!1:s}let Ac=m.createContext(!1);function Pc(){return m.useContext(Ac)}function Ic(e){let s=Pc(),r=m.useContext(wn),[a,n]=m.useState(()=>{var i;if(!s&&r!==null)return(i=r.current)!=null?i:null;if(it.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)});return m.useEffect(()=>{a!==null&&(e!=null&&e.body.contains(a)||e==null||e.body.appendChild(a))},[a,e]),m.useEffect(()=>{s||r!==null&&n(r.current)},[r,n,s]),a}let Nn=m.Fragment,Rc=xe(function(e,s){let{ownerDocument:r=null,...a}=e,n=m.useRef(null),i=Ce(Ji(x=>{n.current=x}),s),l=qs(n),o=r??l,c=Ic(o),[d]=m.useState(()=>{var x;return it.isServer?null:(x=o?.createElement("div"))!=null?x:null}),u=m.useContext(Oc),f=ur();Z(()=>{!c||!d||c.contains(d)||(d.setAttribute("data-headlessui-portal",""),c.appendChild(d))},[c,d]),Z(()=>{if(d&&u)return u.register(d)},[u,d]),jn(()=>{var x;!c||!d||(Xs(d)&&c.contains(d)&&c.removeChild(d),c.childNodes.length<=0&&((x=c.parentElement)==null||x.removeChild(c)))});let p=pe();return f?!c||!d?null:Ye.createPortal(p({ourProps:{ref:i},theirProps:a,slot:{},defaultTag:Nn,name:"Portal"}),d):null});function Tc(e,s){let r=Ce(s),{enabled:a=!0,ownerDocument:n,...i}=e,l=pe();return a?H.createElement(Rc,{...i,ownerDocument:n,ref:r}):l({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:Nn,name:"Portal"})}let _c=m.Fragment,wn=m.createContext(null);function Lc(e,s){let{target:r,...a}=e,n={ref:Ce(s)},i=pe();return H.createElement(wn.Provider,{value:r},i({ourProps:n,theirProps:a,defaultTag:_c,name:"Popover.Group"}))}let Oc=m.createContext(null),Mc=xe(Tc),Dc=xe(Lc),Vc=Object.assign(Mc,{Group:Dc});function Bc(){let e=m.useRef(!1);return Z(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Sn(e){var s;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((s=e.as)!=null?s:kn)!==m.Fragment||H.Children.count(e.children)===1}let is=m.createContext(null);is.displayName="TransitionContext";var Hc=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Hc||{});function qc(){let e=m.useContext(is);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Uc(){let e=m.useContext(ls);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let ls=m.createContext(null);ls.displayName="NestingContext";function os(e){return"children"in e?os(e.children):e.current.filter(({el:s})=>s.current!==null).filter(({state:s})=>s==="visible").length>0}function En(e,s){let r=gt(e),a=m.useRef([]),n=Bc(),i=Rt(),l=U((x,b=Ke.Hidden)=>{let y=a.current.findIndex(({el:g})=>g===x);y!==-1&&(Xe(b,{[Ke.Unmount](){a.current.splice(y,1)},[Ke.Hidden](){a.current[y].state="hidden"}}),i.microTask(()=>{var g;!os(a)&&n.current&&((g=r.current)==null||g.call(r))}))}),o=U(x=>{let b=a.current.find(({el:y})=>y===x);return b?b.state!=="visible"&&(b.state="visible"):a.current.push({el:x,state:"visible"}),()=>l(x,Ke.Unmount)}),c=m.useRef([]),d=m.useRef(Promise.resolve()),u=m.useRef({enter:[],leave:[]}),f=U((x,b,y)=>{c.current.splice(0),s&&(s.chains.current[b]=s.chains.current[b].filter(([g])=>g!==x)),s?.chains.current[b].push([x,new Promise(g=>{c.current.push(g)})]),s?.chains.current[b].push([x,new Promise(g=>{Promise.all(u.current[b].map(([v,j])=>j)).then(()=>g())})]),b==="enter"?d.current=d.current.then(()=>s?.wait.current).then(()=>y(b)):y(b)}),p=U((x,b,y)=>{Promise.all(u.current[b].splice(0).map(([g,v])=>v)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>y(b))});return m.useMemo(()=>({children:a,register:o,unregister:l,onStart:f,onStop:p,wait:d,chains:u}),[o,l,a,f,p,u,d])}let kn=m.Fragment,Cn=Gt.RenderStrategy;function Wc(e,s){var r,a;let{transition:n=!0,beforeEnter:i,afterEnter:l,beforeLeave:o,afterLeave:c,enter:d,enterFrom:u,enterTo:f,entered:p,leave:x,leaveFrom:b,leaveTo:y,...g}=e,[v,j]=m.useState(null),w=m.useRef(null),C=Sn(e),E=Ce(...C?[w,s,j]:s===null?[]:[s]),D=(r=g.unmount)==null||r?Ke.Unmount:Ke.Hidden,{show:M,appear:K,initial:W}=qc(),[P,T]=m.useState(M?"visible":"hidden"),_=Uc(),{register:O,unregister:V}=_;Z(()=>O(w),[O,w]),Z(()=>{if(D===Ke.Hidden&&w.current){if(M&&P!=="visible"){T("visible");return}return Xe(P,{hidden:()=>V(w),visible:()=>O(w)})}},[P,w,O,V,M,D]);let G=ur();Z(()=>{if(C&&G&&P==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,P,G,C]);let q=W&&!K,Y=K&&M&&W,B=m.useRef(!1),$=En(()=>{B.current||(T("hidden"),V(w))},_),z=U(Ze=>{B.current=!0;let et=Ze?"enter":"leave";$.onStart(w,et,De=>{De==="enter"?i?.():De==="leave"&&o?.()})}),je=U(Ze=>{let et=Ze?"enter":"leave";B.current=!1,$.onStop(w,et,De=>{De==="enter"?l?.():De==="leave"&&c?.()}),et==="leave"&&!os($)&&(T("hidden"),V(w))});m.useEffect(()=>{C&&n||(z(M),je(M))},[M,C,n]);let $e=!(!n||!C||!G||q),[,re]=sn($e,v,M,{start:z,end:je}),us=tt({ref:E,className:((a=Ds(g.className,Y&&d,Y&&u,re.enter&&d,re.enter&&re.closed&&u,re.enter&&!re.closed&&f,re.leave&&x,re.leave&&!re.closed&&b,re.leave&&re.closed&&y,!re.transition&&M&&p))==null?void 0:a.trim())||void 0,...tn(re)}),qe=0;P==="visible"&&(qe|=Se.Open),P==="hidden"&&(qe|=Se.Closed),M&&P==="hidden"&&(qe|=Se.Opening),!M&&P==="visible"&&(qe|=Se.Closing);let ms=pe();return H.createElement(ls.Provider,{value:$},H.createElement(vn,{value:qe},ms({ourProps:us,theirProps:g,defaultTag:kn,features:Cn,visible:P==="visible",name:"Transition.Child"})))}function Gc(e,s){let{show:r,appear:a=!1,unmount:n=!0,...i}=e,l=m.useRef(null),o=Sn(e),c=Ce(...o?[l,s]:s===null?[]:[s]);ur();let d=dr();if(r===void 0&&d!==null&&(r=(d&Se.Open)===Se.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=m.useState(r?"visible":"hidden"),p=En(()=>{r||f("hidden")}),[x,b]=m.useState(!0),y=m.useRef([r]);Z(()=>{x!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),b(!1))},[y,r]);let g=m.useMemo(()=>({show:r,appear:a,initial:x}),[r,a,x]);Z(()=>{r?f("visible"):!os(p)&&l.current!==null&&f("hidden")},[r,p]);let v={unmount:n},j=U(()=>{var E;x&&b(!1),(E=e.beforeEnter)==null||E.call(e)}),w=U(()=>{var E;x&&b(!1),(E=e.beforeLeave)==null||E.call(e)}),C=pe();return H.createElement(ls.Provider,{value:p},H.createElement(is.Provider,{value:g},C({ourProps:{...v,as:m.Fragment,children:H.createElement($n,{ref:c,...v,...i,beforeEnter:j,beforeLeave:w})},theirProps:{},defaultTag:m.Fragment,features:Cn,visible:u==="visible",name:"Transition"})))}function Kc(e,s){let r=m.useContext(is)!==null,a=dr()!==null;return H.createElement(H.Fragment,null,!r&&a?H.createElement(Ks,{ref:s,...e}):H.createElement($n,{ref:s,...e}))}let Ks=xe(Gc),$n=xe(Wc),Yc=xe(Kc),zc=Object.assign(Ks,{Child:Yc,Root:Ks});function Qc(e,s){let r=m.useRef({left:0,top:0});if(Z(()=>{if(!s)return;let n=s.getBoundingClientRect();n&&(r.current=n)},[e,s]),s==null||!e||s===document.activeElement)return!1;let a=s.getBoundingClientRect();return a.top!==r.current.top||a.left!==r.current.left}let na=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ia(e){var s,r;let a=(s=e.innerText)!=null?s:"",n=e.cloneNode(!0);if(!He(n))return a;let i=!1;for(let o of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),i=!0;let l=i?(r=n.innerText)!=null?r:"":a;return na.test(l)&&(l=l.replace(na,"")),l}function Jc(e){let s=e.getAttribute("aria-label");if(typeof s=="string")return s.trim();let r=e.getAttribute("aria-labelledby");if(r){let a=r.split(" ").map(n=>{let i=document.getElementById(n);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():ia(i).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return ia(e).trim()}function Xc(e){let s=m.useRef(""),r=m.useRef("");return U(()=>{let a=e.current;if(!a)return"";let n=a.innerText;if(s.current===n)return r.current;let i=Jc(a).trim().toLowerCase();return s.current=n,r.current=i,i})}var Zc=Object.defineProperty,ed=(e,s,r)=>s in e?Zc(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,la=(e,s,r)=>(ed(e,typeof s!="symbol"?s+"":s,r),r),ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),Qt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qt||{}),J=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(J||{});function oa(e,s=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=Za(s(e.items.slice()),i=>i.dataRef.current.domRef.current),n=r?a.indexOf(r):null;return n===-1&&(n=null),{items:a,activeItemIndex:n}}let td={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:te.Nothing},menuState:1}},0(e,s){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:s.focus,menuState:0}},2:(e,s)=>{var r,a,n,i,l;if(e.menuState===1)return e;let o={...e,searchQuery:"",activationTrigger:(r=s.trigger)!=null?r:1,__demoMode:!1};if(s.focus===te.Nothing)return{...o,activeItemIndex:null};if(s.focus===te.Specific)return{...o,activeItemIndex:e.items.findIndex(u=>u.id===s.id)};if(s.focus===te.Previous){let u=e.activeItemIndex;if(u!==null){let f=e.items[u].dataRef.current.domRef,p=Ht(s,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(p!==null){let x=e.items[p].dataRef.current.domRef;if(((a=f.current)==null?void 0:a.previousElementSibling)===x.current||((n=x.current)==null?void 0:n.previousElementSibling)===null)return{...o,activeItemIndex:p}}}}else if(s.focus===te.Next){let u=e.activeItemIndex;if(u!==null){let f=e.items[u].dataRef.current.domRef,p=Ht(s,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.current.disabled});if(p!==null){let x=e.items[p].dataRef.current.domRef;if(((i=f.current)==null?void 0:i.nextElementSibling)===x.current||((l=x.current)==null?void 0:l.nextElementSibling)===null)return{...o,activeItemIndex:p}}}}let c=oa(e),d=Ht(s,{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...o,...c,activeItemIndex:d}},3:(e,s)=>{let r=e.searchQuery!==""?0:1,a=e.searchQuery+s.value.toLowerCase(),n=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(l=>{var o;return((o=l.dataRef.current.textValue)==null?void 0:o.startsWith(a))&&!l.dataRef.current.disabled}),i=n?e.items.indexOf(n):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,s)=>{let r=e.items.concat(s.items.map(n=>n)),a=e.activeItemIndex;return e.pendingFocus.focus!==te.Nothing&&(a=Ht(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:n=>n.id,resolveDisabled:n=>n.dataRef.current.disabled})),{...e,items:r,activeItemIndex:a,pendingFocus:{focus:te.Nothing},pendingShouldSort:!0}},6:(e,s)=>{let r=e.items,a=[],n=new Set(s.items);for(let[i,l]of r.entries())if(n.has(l.id)&&(a.push(i),n.delete(l.id),n.size===0))break;if(a.length>0){r=r.slice();for(let i of a.reverse())r.splice(i,1)}return{...e,items:r,activationTrigger:1}},7:(e,s)=>e.buttonElement===s.element?e:{...e,buttonElement:s.element},8:(e,s)=>e.itemsElement===s.element?e:{...e,itemsElement:s.element},9:e=>e.pendingShouldSort?{...e,...oa(e),pendingShouldSort:!1}:e};class mr extends Ga{constructor(s){super(s),la(this,"actions",{registerItem:Rr(()=>{let r=[],a=new Set;return[(n,i)=>{a.has(i)||(a.add(i),r.push({id:n,dataRef:i}))},()=>(a.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:Rr(()=>{let r=[];return[a=>r.push(a),()=>this.send({type:6,items:r.splice(0)})]})}),la(this,"selectors",{activeDescendantId(r){var a;let n=r.activeItemIndex,i=r.items;return n===null||(a=i[n])==null?void 0:a.id},isActive(r,a){var n;let i=r.activeItemIndex,l=r.items;return i!==null?((n=l[i])==null?void 0:n.id)===a:!1},shouldScrollIntoView(r,a){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,a)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,a=tr.get(null);this.disposables.add(a.on(Ya.Push,n=>{!a.selectors.isTop(n,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>a.actions.push(r)),this.on(1,()=>a.actions.pop(r))}}static new({id:s,__demoMode:r=!1}){return new mr({id:s,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:te.Nothing}})}reduce(s,r){return Xe(r.type,td,s,r)}}const Fn=m.createContext(null);function fr(e){let s=m.useContext(Fn);if(s===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,An),r}return s}function An({id:e,__demoMode:s=!1}){let r=m.useMemo(()=>mr.new({id:e,__demoMode:s}),[]);return jn(()=>r.dispose()),r}let sd=m.Fragment;function rd(e,s){let r=m.useId(),{__demoMode:a=!1,...n}=e,i=An({id:r,__demoMode:a}),[l,o,c]=Ie(i,g=>[g.menuState,g.itemsElement,g.buttonElement]),d=Ce(s),u=tr.get(null),f=Ie(u,m.useCallback(g=>u.selectors.isTop(g,r),[u,r]));Rl(f,[c,o],(g,v)=>{var j;i.send({type:J.CloseMenu}),rr(v,sr.Loose)||(g.preventDefault(),(j=i.state.buttonElement)==null||j.focus())});let p=U(()=>{i.send({type:J.CloseMenu})}),x=m.useMemo(()=>({open:l===ce.Open,close:p}),[l,p]),b={ref:d},y=pe();return H.createElement(Ec,null,H.createElement(Fn.Provider,{value:i},H.createElement(vn,{value:Xe(l,{[ce.Open]:Se.Open,[ce.Closed]:Se.Closed})},y({ourProps:b,theirProps:n,slot:x,defaultTag:sd,name:"Menu"}))))}let ad="button";function nd(e,s){let r=fr("Menu.Button"),a=m.useId(),{id:n=`headlessui-menu-button-${a}`,disabled:i=!1,autoFocus:l=!1,...o}=e,c=m.useRef(null),d=Nc(),u=Ce(s,c,jc(),U(P=>r.send({type:J.SetButtonElement,element:P}))),f=U(P=>{switch(P.key){case oe.Space:case oe.Enter:case oe.ArrowDown:P.preventDefault(),P.stopPropagation(),r.send({type:J.OpenMenu,focus:{focus:te.First}});break;case oe.ArrowUp:P.preventDefault(),P.stopPropagation(),r.send({type:J.OpenMenu,focus:{focus:te.Last}});break}}),p=U(P=>{switch(P.key){case oe.Space:P.preventDefault();break}}),[x,b,y]=Ie(r,P=>[P.menuState,P.buttonElement,P.itemsElement]),g=x===ce.Open;Ll(g,{trigger:b,action:m.useCallback(P=>{if(b!=null&&b.contains(P.target))return Vt.Ignore;let T=P.target.closest('[role="menuitem"]:not([data-disabled])');return He(T)?Vt.Select(T):y!=null&&y.contains(P.target)?Vt.Ignore:Vt.Close},[b,y]),close:m.useCallback(()=>r.send({type:J.CloseMenu}),[]),select:m.useCallback(P=>P.click(),[])});let v=U(P=>{var T;if(P.button===0){if(zi(P.currentTarget))return P.preventDefault();i||(x===ce.Open?(Ye.flushSync(()=>r.send({type:J.CloseMenu})),(T=c.current)==null||T.focus({preventScroll:!0})):(P.preventDefault(),r.send({type:J.OpenMenu,focus:{focus:te.Nothing},trigger:Qt.Pointer})))}}),{isFocusVisible:j,focusProps:w}=Pi({autoFocus:l}),{isHovered:C,hoverProps:E}=Ai({isDisabled:i}),{pressed:D,pressProps:M}=Oi({disabled:i}),K=m.useMemo(()=>({open:x===ce.Open,active:D||x===ce.Open,disabled:i,hover:C,focus:j,autofocus:l}),[x,C,j,D,i,l]),W=Ma(d(),{ref:u,id:n,type:Ol(e,c.current),"aria-haspopup":"menu","aria-controls":y?.id,"aria-expanded":x===ce.Open,disabled:i||void 0,autoFocus:l,onKeyDown:f,onKeyUp:p,onPointerDown:v},w,E,M);return pe()({ourProps:W,theirProps:o,slot:K,defaultTag:ad,name:"Menu.Button"})}let id="div",ld=Gt.RenderStrategy|Gt.Static;function od(e,s){let r=m.useId(),{id:a=`headlessui-menu-items-${r}`,anchor:n,portal:i=!1,modal:l=!0,transition:o=!1,...c}=e,d=vc(n),u=fr("Menu.Items"),[f,p]=Sc(d),x=wc(),[b,y]=m.useState(null),g=Ce(s,d?f:null,U($=>u.send({type:J.SetItemsElement,element:$})),y),[v,j]=Ie(u,$=>[$.menuState,$.buttonElement]),w=qs(j),C=qs(b);d&&(i=!0);let E=dr(),[D,M]=sn(o,b,E!==null?(E&Se.Open)===Se.Open:v===ce.Open);vl(D,j,()=>{u.send({type:J.CloseMenu})});let K=Ie(u,$=>$.__demoMode),W=K?!1:l&&v===ce.Open;Wl(W,C);let P=K?!1:l&&v===ce.Open;yl(P,{allowed:m.useCallback(()=>[j,b],[j,b])});let T=v!==ce.Open,_=Qc(T,j)?!1:D;m.useEffect(()=>{let $=b;$&&v===ce.Open&&$!==C?.activeElement&&$.focus({preventScroll:!0})},[v,b,C]),Zl(v===ce.Open,{container:b,accept($){return $.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let O=Rt(),V=U($=>{var z,je,$e;switch(O.dispose(),$.key){case oe.Space:if(u.state.searchQuery!=="")return $.preventDefault(),$.stopPropagation(),u.send({type:J.Search,value:$.key});case oe.Enter:if($.preventDefault(),$.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:re}=u.state.items[u.state.activeItemIndex];(je=(z=re.current)==null?void 0:z.domRef.current)==null||je.click()}u.send({type:J.CloseMenu}),Xa(u.state.buttonElement);break;case oe.ArrowDown:return $.preventDefault(),$.stopPropagation(),u.send({type:J.GoToItem,focus:te.Next});case oe.ArrowUp:return $.preventDefault(),$.stopPropagation(),u.send({type:J.GoToItem,focus:te.Previous});case oe.Home:case oe.PageUp:return $.preventDefault(),$.stopPropagation(),u.send({type:J.GoToItem,focus:te.First});case oe.End:case oe.PageDown:return $.preventDefault(),$.stopPropagation(),u.send({type:J.GoToItem,focus:te.Last});case oe.Escape:$.preventDefault(),$.stopPropagation(),Ye.flushSync(()=>u.send({type:J.CloseMenu})),($e=u.state.buttonElement)==null||$e.focus({preventScroll:!0});break;case oe.Tab:$.preventDefault(),$.stopPropagation(),Ye.flushSync(()=>u.send({type:J.CloseMenu})),Fl(u.state.buttonElement,$.shiftKey?Hs.Previous:Hs.Next);break;default:$.key.length===1&&(u.send({type:J.Search,value:$.key}),O.setTimeout(()=>u.send({type:J.ClearSearch}),350));break}}),G=U($=>{switch($.key){case oe.Space:$.preventDefault();break}}),q=m.useMemo(()=>({open:v===ce.Open}),[v]),Y=Ma(d?x():{},{"aria-activedescendant":Ie(u,u.selectors.activeDescendantId),"aria-labelledby":Ie(u,$=>{var z;return(z=$.buttonElement)==null?void 0:z.id}),id:a,onKeyDown:V,onKeyUp:G,role:"menu",tabIndex:v===ce.Open?0:void 0,ref:g,style:{...c.style,...p,"--button-width":ll(j,!0).width},...tn(M)}),B=pe();return H.createElement(Vc,{enabled:i?e.static||D:!1,ownerDocument:w},B({ourProps:Y,theirProps:c,slot:q,defaultTag:id,features:ld,visible:_,name:"Menu.Items"}))}let cd=m.Fragment;function dd(e,s){let r=m.useId(),{id:a=`headlessui-menu-item-${r}`,disabled:n=!1,...i}=e,l=fr("Menu.Item"),o=Ie(l,T=>l.selectors.isActive(T,a)),c=m.useRef(null),d=Ce(s,c),u=Ie(l,T=>l.selectors.shouldScrollIntoView(T,a));Z(()=>{if(u)return ve().requestAnimationFrame(()=>{var T,_;(_=(T=c.current)==null?void 0:T.scrollIntoView)==null||_.call(T,{block:"nearest"})})},[u,c]);let f=Xc(c),p=m.useRef({disabled:n,domRef:c,get textValue(){return f()}});Z(()=>{p.current.disabled=n},[p,n]),Z(()=>(l.actions.registerItem(a,p),()=>l.actions.unregisterItem(a)),[p,a]);let x=U(()=>{l.send({type:J.CloseMenu})}),b=U(T=>{if(n)return T.preventDefault();l.send({type:J.CloseMenu}),Xa(l.state.buttonElement)}),y=U(()=>{if(n)return l.send({type:J.GoToItem,focus:te.Nothing});l.send({type:J.GoToItem,focus:te.Specific,id:a})}),g=Gl(),v=U(T=>{g.update(T),!n&&(o||l.send({type:J.GoToItem,focus:te.Specific,id:a,trigger:Qt.Pointer}))}),j=U(T=>{g.wasMoved(T)&&(n||o||l.send({type:J.GoToItem,focus:te.Specific,id:a,trigger:Qt.Pointer}))}),w=U(T=>{g.wasMoved(T)&&(n||o&&l.send({type:J.GoToItem,focus:te.Nothing}))}),[C,E]=qa(),[D,M]=Xi(),K=m.useMemo(()=>({active:o,focus:o,disabled:n,close:x}),[o,n,x]),W={id:a,ref:d,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-labelledby":C,"aria-describedby":D,disabled:void 0,onClick:b,onFocus:y,onPointerEnter:v,onMouseEnter:v,onPointerMove:j,onMouseMove:j,onPointerLeave:w,onMouseLeave:w},P=pe();return H.createElement(E,null,H.createElement(M,null,P({ourProps:W,theirProps:i,slot:K,defaultTag:cd,name:"Menu.Item"})))}let ud="div";function md(e,s){let[r,a]=qa(),n=e,i={ref:s,"aria-labelledby":r,role:"group"},l=pe();return H.createElement(a,null,l({ourProps:i,theirProps:n,slot:{},defaultTag:ud,name:"Menu.Section"}))}let fd="header";function xd(e,s){let r=m.useId(),{id:a=`headlessui-menu-heading-${r}`,...n}=e,i=er();Z(()=>i.register(a),[a,i.register]);let l={id:a,ref:s,role:"presentation",...i.props};return pe()({ourProps:l,theirProps:n,slot:{},defaultTag:fd,name:"Menu.Heading"})}let hd="div";function pd(e,s){let r=e,a={ref:s,role:"separator"};return pe()({ourProps:a,theirProps:r,slot:{},defaultTag:hd,name:"Menu.Separator"})}let gd=xe(rd),bd=xe(nd),yd=xe(od),vd=xe(dd),jd=xe(md),Nd=xe(xd),wd=xe(pd),We=Object.assign(gd,{Button:bd,Items:yd,Item:vd,Section:jd,Heading:Nd,Separator:wd});const Sd=({user:e,isAuthenticated:s,onLogout:r,mobileMenuOpen:a,setMobileMenuOpen:n})=>{const[i,l]=m.useState(!1),o=[{name:"Electronics & Appliances",icon:"fas fa-laptop",href:"/marketplace?category=electronics"},{name:"Fashion & Beauty",icon:"fas fa-tshirt",href:"/marketplace?category=fashion"},{name:"Home & Furniture",icon:"fas fa-couch",href:"/marketplace?category=furniture"},{name:"Vehicles & Auto Parts",icon:"fas fa-car",href:"/marketplace?category=automotive"},{name:"Property & Real Estate",icon:"fas fa-home",href:"/marketplace?category=property"},{name:"Jobs & Services",icon:"fas fa-briefcase",href:"/marketplace?category=services"},{name:"Agriculture & Food",icon:"fas fa-seedling",href:"/marketplace?category=agriculture"},{name:"Health & Wellness",icon:"fas fa-heartbeat",href:"/marketplace?category=health"},{name:"Kids & Baby",icon:"fas fa-baby",href:"/marketplace?category=kids"},{name:"Education & Training",icon:"fas fa-graduation-cap",href:"/marketplace?category=education"},{name:"Events & Entertainment",icon:"fas fa-music",href:"/marketplace?category=events"},{name:"Others",icon:"fas fa-ellipsis-h",href:"/marketplace?category=others"}];return t.jsx("nav",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs(I,{to:"/",className:"flex items-center space-x-2 group",children:[t.jsx("div",{className:"w-10 h-10 matrix-gradient rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-200",children:t.jsx("i",{className:"fas fa-cube text-white text-lg"})}),t.jsx("span",{className:"text-2xl font-bold gradient-text",children:"Matrix"})]})}),t.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[t.jsxs(I,{to:"/marketplace",className:"text-gray-700 hover:text-matrix-600 font-medium transition-colors duration-200 flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-search text-sm"}),t.jsx("span",{children:"Browse"})]}),t.jsxs(I,{to:"/items/new",className:"text-gray-700 hover:text-matrix-600 font-medium transition-colors duration-200 flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-plus text-sm"}),t.jsx("span",{children:"Sell"})]}),t.jsxs(I,{to:"/featured",className:"text-gray-700 hover:text-matrix-600 font-medium transition-colors duration-200 flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-star text-sm"}),t.jsx("span",{children:"Featured"})]}),t.jsxs(I,{to:"/help-center",className:"text-gray-700 hover:text-matrix-600 font-medium transition-colors duration-200 flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-question-circle text-sm"}),t.jsx("span",{children:"Help"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>l(!i),className:"text-gray-700 hover:text-matrix-600 font-medium transition-colors duration-200 flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-th-large text-sm"}),t.jsx("span",{children:"Categories"}),t.jsx("i",{className:`fas fa-chevron-down text-xs transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&t.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50 max-h-96 overflow-y-auto",children:[t.jsx("div",{className:"grid grid-cols-2 gap-1 p-2",children:o.map((c,d)=>t.jsxs(I,{to:c.href,onClick:()=>l(!1),className:"block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-150",children:[t.jsx("i",{className:`${c.icon} text-matrix-500 w-5`})," ",c.name]},d))}),t.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:t.jsx(I,{to:"/marketplace",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-matrix-600 hover:bg-matrix-50 font-medium",children:"View All Categories "})})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[s?t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-matrix-600 transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-bell text-lg"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse-slow",children:"3"})]}),t.jsxs(I,{to:"/inbox",className:"relative p-2 text-gray-600 hover:text-matrix-600 transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-envelope text-lg"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-matrix-500 text-white text-xs rounded-full flex items-center justify-center",children:"2"})]}),t.jsxs(We,{as:"div",className:"relative",children:[t.jsxs(We.Button,{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[e?.profile_picture?t.jsx("img",{src:e.profile_picture,alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}):t.jsx("div",{className:"w-8 h-8 matrix-gradient rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-semibold",children:e?.username?.[0]?.toUpperCase()})}),t.jsx("i",{className:"fas fa-chevron-down text-xs text-gray-500"})]}),t.jsx(zc,{enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t.jsxs(We.Items,{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[t.jsx(We.Item,{children:({active:c})=>t.jsxs(I,{to:"/dashboard",className:`block px-4 py-2 text-sm ${c?"bg-gray-50":""} text-gray-700 transition-colors duration-150`,children:[t.jsx("i",{className:"fas fa-tachometer-alt text-matrix-500 w-5"})," Dashboard"]})}),t.jsx(We.Item,{children:({active:c})=>t.jsxs(I,{to:"/profile",className:`block px-4 py-2 text-sm ${c?"bg-gray-50":""} text-gray-700 transition-colors duration-150`,children:[t.jsx("i",{className:"fas fa-user text-matrix-500 w-5"})," Profile"]})}),t.jsx(We.Item,{children:({active:c})=>t.jsxs(I,{to:"/favorites",className:`block px-4 py-2 text-sm ${c?"bg-gray-50":""} text-gray-700 transition-colors duration-150`,children:[t.jsx("i",{className:"fas fa-heart text-matrix-500 w-5"})," Favorites"]})}),e?.is_staff&&t.jsxs(t.Fragment,{children:[t.jsx("hr",{className:"my-2"}),t.jsx(We.Item,{children:({active:c})=>t.jsxs("a",{href:"/admin/",className:`block px-4 py-2 text-sm ${c?"bg-blue-50":""} text-blue-600 transition-colors duration-150`,children:[t.jsx("i",{className:"fas fa-shield-alt text-blue-500 w-5"})," Admin Panel"]})})]}),t.jsx("hr",{className:"my-2"}),t.jsx(We.Item,{children:({active:c})=>t.jsxs("button",{onClick:r,className:`block w-full text-left px-4 py-2 text-sm ${c?"bg-red-50":""} text-red-600 transition-colors duration-150`,children:[t.jsx("i",{className:"fas fa-sign-out-alt text-red-500 w-5"})," Logout"]})})]})})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(I,{to:"/login",className:"text-gray-700 hover:text-matrix-600 font-medium transition-colors duration-200",children:"Login"}),t.jsx(I,{to:"/signup",className:"matrix-gradient hover:opacity-90 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Sign Up"})]}),t.jsx("button",{onClick:()=>n(!a),className:"lg:hidden p-2 text-gray-600 hover:text-matrix-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-bars text-lg"})})]})]})})})},Ed=()=>t.jsx("footer",{className:"bg-gray-900 text-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 matrix-gradient rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-cube text-white text-sm"})}),t.jsx("span",{className:"text-xl font-bold",children:"Matrix Marketplace"})]}),t.jsx("p",{className:"text-gray-400 mb-4",children:"Your trusted marketplace for buying and selling quality items with confidence and security."}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:t.jsx("i",{className:"fab fa-facebook text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:t.jsx("i",{className:"fab fa-twitter text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:t.jsx("i",{className:"fab fa-instagram text-xl"})}),t.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:t.jsx("i",{className:"fab fa-linkedin text-xl"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(I,{to:"/marketplace",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Browse Items"})}),t.jsx("li",{children:t.jsx(I,{to:"/items/new",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Sell Item"})}),t.jsx("li",{children:t.jsx(I,{to:"/featured",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Featured"})}),t.jsx("li",{children:t.jsx(I,{to:"/order-protection",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Order Protection"})}),t.jsx("li",{children:t.jsx(I,{to:"/become-supplier",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Become Supplier"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Support"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(I,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Contact Us"})}),t.jsx("li",{children:t.jsx(I,{to:"/help-center",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Help Center"})}),t.jsx("li",{children:t.jsx(I,{to:"/buyer-central",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Buyer Central"})}),t.jsx("li",{children:t.jsx(I,{to:"/faq",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"FAQ"})}),t.jsx("li",{children:t.jsx(I,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Report Issue"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Newsletter"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"Stay updated with the latest deals and features."}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-l-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:border-matrix-500"}),t.jsx("button",{className:"matrix-gradient hover:opacity-90 px-4 py-2 rounded-r-lg transition-all duration-200",children:t.jsx("i",{className:"fas fa-paper-plane"})})]})]})]}),t.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:t.jsx("p",{children:" 2025 Matrix Marketplace. All rights reserved. Built with  for the community."})})]})}),kd=({isOpen:e,onClose:s,isAuthenticated:r,onLogout:a})=>t.jsx("div",{className:`lg:hidden bg-white border-t border-gray-200 transition-all duration-200 ${e?"opacity-100 translate-y-0":"opacity-0 -translate-y-1 pointer-events-none"}`,children:t.jsxs("div",{className:"px-4 py-4 space-y-3",children:[t.jsxs(I,{to:"/marketplace",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-store w-5"})," Marketplace"]}),t.jsxs(I,{to:"/marketplace",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-search w-5"})," Browse Items"]}),t.jsxs(I,{to:"/items/new",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-plus w-5"})," Sell Item"]}),t.jsxs(I,{to:"/featured",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-star w-5"})," Featured"]}),t.jsxs(I,{to:"/help-center",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-question-circle w-5"})," Help Center"]}),t.jsxs(I,{to:"/buyer-central",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-user-tie w-5"})," Buyer Central"]}),t.jsxs(I,{to:"/become-supplier",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-handshake w-5"})," Become Supplier"]}),t.jsxs(I,{to:"/faq",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-question w-5"})," FAQ"]}),r&&t.jsxs(t.Fragment,{children:[t.jsxs(I,{to:"/inbox",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-envelope w-5"})," Messages"]}),t.jsxs(I,{to:"/dashboard",onClick:s,className:"block text-gray-700 hover:text-matrix-600 font-medium py-2",children:[t.jsx("i",{className:"fas fa-tachometer-alt w-5"})," Dashboard"]})]})]})}),Cd=({children:e})=>{const[s,r]=m.useState(!1),{user:a,isAuthenticated:n,logout:i}=ke();Yn();const l=ht(),o=()=>{i(),l("/")};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(Sd,{user:a,isAuthenticated:n,onLogout:o,mobileMenuOpen:s,setMobileMenuOpen:r}),t.jsx(kd,{isOpen:s,onClose:()=>r(!1),isAuthenticated:n,onLogout:o}),t.jsx("main",{className:"min-h-screen",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})}),t.jsx(Ed,{}),t.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-4 left-4 z-40 matrix-gradient hover:opacity-90 text-white p-3 rounded-full shadow-lg transition-all duration-200 transform hover:scale-110",children:t.jsx("i",{className:"fas fa-arrow-up"})})]})},Pn="http://localhost:8000",me=Is.create({baseURL:Pn,headers:{"Content-Type":"application/json"}});me.interceptors.request.use(e=>{const s=localStorage.getItem("access_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));me.interceptors.response.use(e=>e,async e=>{if(e.response?.status===401){const s=localStorage.getItem("refresh_token");if(s)try{const r=await Is.post(`${Pn}/api/auth/token/refresh/`,{refresh:s}),{access:a}=r.data;return localStorage.setItem("access_token",a),e.config.headers.Authorization=`Bearer ${a}`,Is.request(e.config)}catch{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}else window.location.href="/login"}return Promise.reject(e)});const Ys={login:e=>me.post("/api/auth/token/",e),signup:e=>me.post("/api/auth/register/",e),getProfile:()=>me.get("/api/auth/profile/"),updateProfile:e=>me.patch("/api/auth/profile/",e)},_e={getItems:e=>me.get("/api/items/items/",{params:e}),getItem:e=>me.get(`/api/items/items/${e}/`),createItem:e=>me.post("/api/items/items/",e),updateItem:(e,s)=>me.patch(`/api/items/items/${e}/`,s),deleteItem:e=>me.delete(`/api/items/items/${e}/`),toggleFavorite:e=>me.post(`/api/items/items/${e}/toggle-favorite/`),getRelatedItems:e=>me.get(`/api/items/items/${e}/related/`)},xr={getCategories:()=>me.get("/api/categories/")},$d={getConversations:()=>me.get("/api/conversations/conversations/")},Fd=Home,Ad=()=>{const[e,s]=zn(),[r,a]=m.useState("grid"),[n,i]=m.useState(!1),l=e.get("query")||"",o=e.get("category")||"",c=e.get("page")||1,{data:d,isLoading:u}=Le(["items",{query:l,category:o,page:c}],()=>_e.getItems({search:l,category:o,page:c,status:"active",admin_approved:!0}),{select:g=>g.data}),{data:f,isLoading:p}=Le("categories",xr.getCategories,{select:g=>g.data}),x=g=>{g.preventDefault();const j=new FormData(g.target).get("query"),w=new URLSearchParams(e);j?w.set("query",j):w.delete("query"),w.delete("page"),s(w)},b=g=>{const v=new URLSearchParams(e);g?v.set("category",g):v.delete("category"),v.delete("page"),s(v)},y=()=>{s({})};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm rounded-2xl p-6",children:t.jsxs("form",{onSubmit:x,className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{name:"query",defaultValue:l,placeholder:"What are you looking for?",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg"}),t.jsx("i",{className:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]}),t.jsx("button",{type:"submit",className:"btn-primary",children:"Search"})]})}),t.jsxs("div",{className:"flex gap-6",children:[t.jsx("div",{className:`w-full lg:w-1/4 ${n?"block":"hidden lg:block"}`,children:t.jsxs("div",{className:"card p-6 sticky top-24",children:[t.jsxs("h3",{className:"font-bold text-gray-900 mb-6 flex items-center",children:[t.jsx("i",{className:"fas fa-filter text-primary-600 mr-2"}),"Filters & Categories"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Categories"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>b(""),className:`w-full text-left flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors duration-150 ${o?"":"bg-primary-50 text-primary-700"}`,children:t.jsx("span",{className:"text-sm text-gray-700",children:"All Categories"})}),!p&&f?.map(g=>t.jsxs("button",{onClick:()=>b(g.slug),className:`w-full text-left flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded-lg transition-colors duration-150 ${o===g.slug?"bg-primary-50 text-primary-700":""}`,children:[t.jsx("i",{className:`${g.icon||"fas fa-tag"} text-primary-600 w-4`}),t.jsx("span",{className:"text-sm text-gray-700",children:g.name}),t.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",g.items_count||0,")"]})]},g.id))]})]}),t.jsxs("button",{onClick:y,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg font-medium transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-times mr-2"}),"Clear All Filters"]})]})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 card p-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[d?.results?.length||0," products available"]}),l&&t.jsxs("span",{className:"text-sm text-gray-600",children:['for "',l,'"']})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[t.jsx("option",{children:"Best Match"}),t.jsx("option",{children:"Price: Low to High"}),t.jsx("option",{children:"Price: High to Low"}),t.jsx("option",{children:"Newest First"})]}),t.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>a("grid"),className:`p-2 rounded-md transition-all duration-200 ${r==="grid"?"bg-white shadow-sm":""}`,children:t.jsx("i",{className:"fas fa-th text-gray-600"})}),t.jsx("button",{onClick:()=>a("list"),className:`p-2 rounded-md transition-all duration-200 ${r==="list"?"bg-white shadow-sm":""}`,children:t.jsx("i",{className:"fas fa-list text-gray-600"})})]}),t.jsxs("button",{onClick:()=>i(!n),className:"lg:hidden btn-primary",children:[t.jsx("i",{className:"fas fa-filter mr-2"}),"Filters"]})]})]}),u?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((g,v)=>t.jsxs("div",{className:"card p-4 animate-pulse",children:[t.jsx("div",{className:"bg-gray-300 h-48 rounded-lg mb-4"}),t.jsx("div",{className:"bg-gray-300 h-4 rounded mb-2"}),t.jsx("div",{className:"bg-gray-300 h-4 rounded w-2/3"})]},v))}):r==="grid"?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d?.results?.map(g=>t.jsxs("div",{className:"group card overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("img",{src:g.image||"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=400",alt:g.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.status==="active"?"bg-green-500 text-white":g.status==="sold"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,children:g.status==="active"?"Available":g.status==="sold"?"Sold":g.status})}),t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx("button",{className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-gray-600 hover:text-red-500 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-heart text-sm"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors duration-200 line-clamp-1",children:g.name}),t.jsxs("div",{className:"flex items-center space-x-1 text-yellow-500",children:[t.jsx("i",{className:"fas fa-star text-xs"}),t.jsx("span",{className:"text-xs text-gray-600",children:"4.8"})]})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:g.description||"No description available"}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["KSh ",g.price]}),t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[t.jsx("i",{className:"fas fa-user"}),t.jsx("span",{children:g.created_by?.username})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:new Date(g.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-eye"}),t.jsx("span",{children:g.views||0})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx(I,{to:`/items/${g.id}`,className:"w-full btn-primary text-center block",children:"View Details"})})]})]},g.id))}):t.jsx("div",{className:"space-y-4",children:d?.results?.map(g=>t.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{src:g.image||"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=150",alt:g.name,className:"w-24 h-24 object-cover rounded-xl"})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-primary-600 transition-colors duration-200",children:t.jsx(I,{to:`/items/${g.id}`,children:g.name})}),t.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",children:g.description||"No description available"}),t.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-user"}),t.jsx("span",{children:g.created_by?.username})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:new Date(g.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-eye"}),t.jsxs("span",{children:[g.views||0," views"]})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[t.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["KSh ",g.price]}),t.jsx(I,{to:`/items/${g.id}`,className:"btn-primary",children:"View Details"})]})]})})]})},g.id))}),!u&&(!d?.results||d.results.length===0)&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-search text-gray-400 text-3xl"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No items found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or browse all categories."}),t.jsx("button",{onClick:y,className:"btn-primary",children:"Browse All Items"})]}),d?.results&&d.results.length>0&&d.total_pages>1&&t.jsx("div",{className:"flex items-center justify-center mt-12",children:t.jsxs("nav",{className:"flex items-center space-x-2",children:[d.current_page>1&&t.jsx("button",{onClick:()=>{const g=new URLSearchParams(e);g.set("page",d.current_page-1),s(g)},className:"px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-chevron-left"})}),Array.from({length:Math.min(5,d.total_pages)},(g,v)=>{const j=v+1;return t.jsx("button",{onClick:()=>{const w=new URLSearchParams(e);w.set("page",j),s(w)},className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${j===d.current_page?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:j},j)}),d.current_page<d.total_pages&&t.jsx("button",{onClick:()=>{const g=new URLSearchParams(e);g.set("page",d.current_page+1),s(g)},className:"px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-chevron-right"})})]})})]})]})]})},Pd=({images:e,currentImage:s,setCurrentImage:r,setShowImageModal:a})=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:e[s]||"https://via.placeholder.com/500x400",alt:"Main item",className:"w-full h-96 lg:h-[500px] object-cover rounded-2xl cursor-zoom-in",onClick:()=>a(!0)}),e.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>r(n=>n>0?n-1:e.length-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:t.jsx("i",{className:"fas fa-chevron-left"})}),t.jsx("button",{onClick:()=>r(n=>n<e.length-1?n+1:0),className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-200",children:t.jsx("i",{className:"fas fa-chevron-right"})})]})]}),e.length>1&&t.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:e.map((n,i)=>t.jsx("img",{src:n,alt:`Thumbnail ${i+1}`,className:`w-20 h-20 object-cover rounded-lg cursor-pointer border-2 transition-all duration-200 ${s===i?"border-primary-500":"border-transparent hover:border-gray-300"}`,onClick:()=>r(i)},i))})]}),Id=({seller:e,onContact:s})=>t.jsxs("div",{className:"card border border-gray-200 p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Seller Information"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[e?.profile?.profile_picture?t.jsx("img",{src:e.profile.profile_picture,alt:e.username,className:"w-12 h-12 rounded-full object-cover"}):t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-700 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold",children:e?.username?.[0]?.toUpperCase()})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold text-gray-900",children:e?.profile?.display_name||e?.username}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-star text-yellow-500"}),t.jsxs("span",{children:[e?.profile?.rating||"4.9"," (",e?.profile?.total_reviews||0," reviews)"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:"Usually responds within 1 hour"})]}),e?.profile?.is_verified&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-check-circle text-green-500"}),t.jsx("span",{className:"text-green-600",children:"Verified"})]})]})]}),t.jsx("button",{className:"btn-secondary",onClick:s,children:"View Profile"})]})]}),Rd=()=>{const{id:e}=Na(),s=ht(),{user:r}=ke(),[a,n]=m.useState(0),[i,l]=m.useState(!1),[o,c]=m.useState(1),[d,u]=m.useState(!1),{data:f,isLoading:p}=Le(["item",e],()=>_e.getItem(e),{select:j=>j.data,onSuccess:j=>u(j.is_favorited||!1)}),{data:x}=Le(["relatedItems",f?.category?.id],()=>_e.getItems({category:f?.category?.id,exclude:e,limit:3,status:"active",admin_approved:!0}),{enabled:!!f?.category?.id,select:j=>j.data?.results||[]}),b=async()=>{if(!r){s("/login");return}try{const j=await _e.toggleFavorite(e);u(j.data.favorited)}catch(j){console.error("Error toggling favorite:",j)}},y=()=>{if(!r){s("/login");return}s(`/inbox/new/${e}`)};if(p)return t.jsx("div",{className:"animate-pulse",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-gray-300 h-96 lg:h-[500px] rounded-2xl"}),t.jsx("div",{className:"flex space-x-2",children:[...Array(5)].map((j,w)=>t.jsx("div",{className:"bg-gray-300 w-20 h-20 rounded-lg"},w))})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gray-300 h-8 rounded w-3/4"}),t.jsx("div",{className:"bg-gray-300 h-4 rounded w-1/2"}),t.jsx("div",{className:"bg-gray-300 h-20 rounded"})]})]})});if(!f)return t.jsxs("div",{className:"text-center py-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Item not found"}),t.jsx(I,{to:"/marketplace",className:"btn-primary",children:"Back to Marketplace"})]});const g=f.get_all_images||[f.image].filter(Boolean),v=r?.id===f.created_by?.id;return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(I,{to:"/",className:"hover:text-primary-600 transition-colors duration-200",children:"Home"}),t.jsx("i",{className:"fas fa-chevron-right text-xs"}),t.jsx(I,{to:"/marketplace",className:"hover:text-primary-600 transition-colors duration-200",children:"Browse"}),t.jsx("i",{className:"fas fa-chevron-right text-xs"}),t.jsx("span",{className:"text-gray-900",children:f.name})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsx(Pd,{images:g,currentImage:a,setCurrentImage:n,setShowImageModal:l}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:f.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-share-alt"})}),t.jsx("button",{onClick:b,className:`p-2 transition-colors duration-200 ${d?"text-red-500 hover:text-red-600":"text-gray-600 hover:text-red-500"}`,children:t.jsx("i",{className:`fas fa-heart ${d?"text-red-500":""}`})})]})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-eye"}),t.jsxs("span",{children:[f.views||0," views"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsxs("span",{children:["Listed ",new Date(f.created_at).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-map-marker-alt"}),t.jsx("span",{children:f.location})]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{children:[t.jsxs("span",{className:"text-3xl font-bold text-primary-600",children:["KSh ",f.price]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ml-2 ${f.condition==="new"?"bg-green-100 text-green-800":f.condition==="like_new"?"bg-blue-100 text-blue-800":f.condition==="excellent"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:f.condition?.replace("_"," ")||"Good"})]})}),t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Quantity:"}),t.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[t.jsx("button",{onClick:()=>c(j=>Math.max(1,j-1)),className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-minus text-sm"})}),t.jsx("span",{className:"px-4 py-2 border-x border-gray-300",children:o}),t.jsx("button",{onClick:()=>c(j=>j+1),className:"p-2 hover:bg-gray-100 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-plus text-sm"})})]}),t.jsx("span",{className:"text-sm text-gray-500",children:"Available"})]})]}),t.jsx("div",{className:"space-y-3",children:v?t.jsx(Td,{item:f,navigate:s}):t.jsx(_d,{isFavorited:d,onContact:y,onToggleFavorite:b})}),t.jsx(Id,{seller:f.created_by,onContact:y})]})]}),t.jsx(Ld,{item:f,relatedItems:x}),i&&t.jsx(Vd,{image:g[a],alt:f.name,onClose:()=>l(!1)})]})},Td=({item:e,navigate:s})=>t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("i",{className:"fas fa-info-circle text-blue-600 mr-2"}),t.jsx("span",{className:"font-semibold text-blue-900",children:"This is your listing"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs(I,{to:`/items/${e.id}/edit`,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-xl font-semibold text-center transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-edit mr-2"}),"Edit Listing"]}),t.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to delete this item?")&&s("/dashboard")},className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-6 rounded-xl font-semibold transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-trash mr-2"}),"Delete"]})]})]}),_d=({isFavorited:e,onContact:s,onToggleFavorite:r})=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:s,className:"flex-1 btn-primary",children:[t.jsx("i",{className:"fas fa-comments mr-2"}),"Contact Seller"]}),t.jsxs("button",{className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-4 px-6 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105",children:[t.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Buy Now"]})]}),t.jsxs("button",{onClick:r,className:`w-full py-3 px-6 rounded-xl font-semibold transition-colors duration-200 ${e?"bg-red-100 text-red-700 hover:bg-red-200":"btn-secondary"}`,children:[t.jsx("i",{className:"fas fa-heart mr-2"}),"Add to Wishlist"]})]}),Ld=({item:e,relatedItems:s})=>t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Description"}),e.description?t.jsx("div",{className:"prose prose-gray max-w-none",children:t.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.description})}):t.jsx("p",{className:"text-gray-500 italic",children:"No description provided by the seller."})]}),t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Specifications"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Ae,{label:"Category",value:e.category?.name}),t.jsx(Ae,{label:"Condition",value:e.condition?.replace("_"," ")||"Good"}),t.jsx(Ae,{label:"Location",value:e.location}),t.jsx(Ae,{label:"Availability",value:e.status==="active"?"Available":e.status==="sold"?"Sold":e.status,valueClass:e.status==="active"?"text-green-600":e.status==="sold"?"text-red-600":"text-yellow-600"}),e.delivery_available&&t.jsx(Ae,{label:"Delivery",value:"Available",valueClass:"text-green-600"}),e.pickup_available&&t.jsx(Ae,{label:"Pickup",value:"Available",valueClass:"text-green-600"}),e.is_negotiable&&t.jsx(Ae,{label:"Price",value:"Negotiable",valueClass:"text-blue-600"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(Od,{item:e}),t.jsx(Md,{item:e}),s&&s.length>0&&t.jsx(Dd,{relatedItems:s})]})]}),Ae=({label:e,value:s,valueClass:r="text-gray-900"})=>t.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100",children:[t.jsx("span",{className:"text-gray-600",children:e}),t.jsx("span",{className:`font-medium ${r}`,children:s})]}),Od=({item:e})=>t.jsxs("div",{className:"card p-6",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx("i",{className:"fas fa-shipping-fast text-primary-600 mr-2"}),"Shipping & Delivery"]}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsx(Ae,{label:"Delivery Available",value:e.delivery_available?"Yes":"No",valueClass:e.delivery_available?"text-green-600":"text-gray-900"}),t.jsx(Ae,{label:"Pickup Available",value:e.pickup_available?"Yes":"No",valueClass:e.pickup_available?"text-green-600":"text-gray-900"}),t.jsx(Ae,{label:"Negotiable",value:e.is_negotiable?"Yes":"No",valueClass:e.is_negotiable?"text-blue-600":"text-gray-900"})]})]}),Md=({item:e})=>t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-6",children:[t.jsxs("h3",{className:"font-semibold text-green-900 mb-3 flex items-center",children:[t.jsx("i",{className:"fas fa-shield-alt mr-2"}),"Trust & Safety"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx("i",{className:"fas fa-check text-green-600"}),t.jsx("span",{children:e.created_by?.profile?.is_verified?"Verified seller identity":"Seller identity pending verification"})]}),t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx("i",{className:"fas fa-check text-green-600"}),t.jsx("span",{children:"Secure payment processing"})]}),t.jsxs("li",{className:"flex items-center space-x-2",children:[t.jsx("i",{className:"fas fa-check text-green-600"}),t.jsx("span",{children:"Buyer protection guarantee"})]})]})]}),Dd=({relatedItems:e})=>t.jsxs("div",{className:"card p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Similar Items"}),t.jsx("div",{className:"space-y-4",children:e.map(s=>t.jsxs(I,{to:`/items/${s.id}`,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("img",{src:s.image||"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=100",alt:s.name,className:"w-16 h-16 object-cover rounded-lg"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-medium text-gray-900 truncate",children:s.name}),t.jsxs("p",{className:"text-sm text-primary-600 font-semibold",children:["KSh ",s.price]})]})]},s.id))})]}),Vd=({image:e,alt:s,onClose:r})=>t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90",onClick:r,children:t.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[t.jsx("img",{src:e,alt:s,className:"max-w-full max-h-full object-contain"}),t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white hover:text-gray-300 text-2xl",children:t.jsx("i",{className:"fas fa-times"})})]})});var Lt=e=>e.type==="checkbox",nt=e=>e instanceof Date,ue=e=>e==null;const In=e=>typeof e=="object";var se=e=>!ue(e)&&!Array.isArray(e)&&In(e)&&!nt(e),Bd=e=>se(e)&&e.target?Lt(e.target)?e.target.checked:e.target.value:e,Hd=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qd=(e,s)=>e.has(Hd(s)),Ud=e=>{const s=e.constructor&&e.constructor.prototype;return se(s)&&s.hasOwnProperty("isPrototypeOf")},hr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function le(e){let s;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(hr&&(e instanceof Blob||a))&&(r||se(e)))if(s=r?[]:{},!r&&!Ud(e))s=e;else for(const n in e)e.hasOwnProperty(n)&&(s[n]=le(e[n]));else return e;return s}var cs=e=>/^\w*$/.test(e),ie=e=>e===void 0,pr=e=>Array.isArray(e)?e.filter(Boolean):[],gr=e=>pr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),R=(e,s,r)=>{if(!s||!se(e))return r;const a=(cs(s)?[s]:gr(s)).reduce((n,i)=>ue(n)?n:n[i],e);return ie(a)||a===e?ie(e[s])?r:e[s]:a},Pe=e=>typeof e=="boolean",ee=(e,s,r)=>{let a=-1;const n=cs(s)?[s]:gr(s),i=n.length,l=i-1;for(;++a<i;){const o=n[a];let c=r;if(a!==l){const d=e[o];c=se(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const ca={BLUR:"blur",FOCUS_OUT:"focusout"},Ne={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ve={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Wd=H.createContext(null);Wd.displayName="HookFormContext";var Gd=(e,s,r,a=!0)=>{const n={defaultValues:s._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const l=i;return s._proxyFormState[l]!==Ne.all&&(s._proxyFormState[l]=!a||Ne.all),e[l]}});return n};const Kd=typeof window<"u"?m.useLayoutEffect:m.useEffect;var Re=e=>typeof e=="string",Yd=(e,s,r,a,n)=>Re(e)?(a&&s.watch.add(e),R(r,e,n)):Array.isArray(e)?e.map(i=>(a&&s.watch.add(i),R(r,i))):(a&&(s.watchAll=!0),r),zd=(e,s,r,a,n)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},$t=e=>Array.isArray(e)?e:[e],da=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}},zs=e=>ue(e)||!In(e);function Ge(e,s,r=new WeakSet){if(zs(e)||zs(s))return e===s;if(nt(e)&&nt(s))return e.getTime()===s.getTime();const a=Object.keys(e),n=Object.keys(s);if(a.length!==n.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const i of a){const l=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=s[i];if(nt(l)&&nt(o)||se(l)&&se(o)||Array.isArray(l)&&Array.isArray(o)?!Ge(l,o,r):l!==o)return!1}}return!0}var he=e=>se(e)&&!Object.keys(e).length,br=e=>e.type==="file",we=e=>typeof e=="function",Jt=e=>{if(!hr)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Rn=e=>e.type==="select-multiple",yr=e=>e.type==="radio",Qd=e=>yr(e)||Lt(e),Fs=e=>Jt(e)&&e.isConnected;function Jd(e,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)e=ie(e)?a++:e[s[a++]];return e}function Xd(e){for(const s in e)if(e.hasOwnProperty(s)&&!ie(e[s]))return!1;return!0}function ne(e,s){const r=Array.isArray(s)?s:cs(s)?[s]:gr(s),a=r.length===1?e:Jd(e,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(se(a)&&he(a)||Array.isArray(a)&&Xd(a))&&ne(e,r.slice(0,-1)),e}var Tn=e=>{for(const s in e)if(we(e[s]))return!0;return!1};function Xt(e,s={}){const r=Array.isArray(e);if(se(e)||r)for(const a in e)Array.isArray(e[a])||se(e[a])&&!Tn(e[a])?(s[a]=Array.isArray(e[a])?[]:{},Xt(e[a],s[a])):ue(e[a])||(s[a]=!0);return s}function _n(e,s,r){const a=Array.isArray(e);if(se(e)||a)for(const n in e)Array.isArray(e[n])||se(e[n])&&!Tn(e[n])?ie(s)||zs(r[n])?r[n]=Array.isArray(e[n])?Xt(e[n],[]):{...Xt(e[n])}:_n(e[n],ue(s)?{}:s[n],r[n]):r[n]=!Ge(e[n],s[n]);return r}var Nt=(e,s)=>_n(e,s,Xt(s));const ua={value:!1,isValid:!1},ma={value:!0,isValid:!0};var Ln=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ie(e[0].attributes.value)?ie(e[0].value)||e[0].value===""?ma:{value:e[0].value,isValid:!0}:ma:ua}return ua},On=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>ie(e)?e:s?e===""?NaN:e&&+e:r&&Re(e)?new Date(e):a?a(e):e;const fa={isValid:!1,value:null};var Mn=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,fa):fa;function xa(e){const s=e.ref;return br(s)?s.files:yr(s)?Mn(e.refs).value:Rn(s)?[...s.selectedOptions].map(({value:r})=>r):Lt(s)?Ln(e.refs).value:On(ie(s.value)?e.ref.value:s.value,e)}var Zd=(e,s,r,a)=>{const n={};for(const i of e){const l=R(s,i);l&&ee(n,i,l._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}},Zt=e=>e instanceof RegExp,wt=e=>ie(e)?e:Zt(e)?e.source:se(e)?Zt(e.value)?e.value.source:e.value:e,ha=e=>({isOnSubmit:!e||e===Ne.onSubmit,isOnBlur:e===Ne.onBlur,isOnChange:e===Ne.onChange,isOnAll:e===Ne.all,isOnTouch:e===Ne.onTouched});const pa="AsyncFunction";var eu=e=>!!e&&!!e.validate&&!!(we(e.validate)&&e.validate.constructor.name===pa||se(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===pa)),tu=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ga=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Ft=(e,s,r,a)=>{for(const n of r||Object.keys(e)){const i=R(e,n);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],n)&&!a)return!0;if(l.ref&&s(l.ref,l.name)&&!a)return!0;if(Ft(o,s))break}else if(se(o)&&Ft(o,s))break}}};function ba(e,s,r){const a=R(e,r);if(a||cs(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),l=R(s,i),o=R(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};n.pop()}return{name:r}}var su=(e,s,r,a)=>{r(e);const{name:n,...i}=e;return he(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(l=>s[l]===(!a||Ne.all))},ru=(e,s,r)=>!e||!s||e===s||$t(e).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),au=(e,s,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(s||e):(r?a.isOnBlur:n.isOnBlur)?!e:(r?a.isOnChange:n.isOnChange)?e:!0,nu=(e,s)=>!pr(R(e,s)).length&&ne(e,s),iu=(e,s,r)=>{const a=$t(R(e,r));return ee(a,"root",s[r]),ee(e,r,a),e},Ut=e=>Re(e);function ya(e,s,r="validate"){if(Ut(e)||Array.isArray(e)&&e.every(Ut)||Pe(e)&&!e)return{type:r,message:Ut(e)?e:"",ref:s}}var dt=e=>se(e)&&!Zt(e)?e:{value:e,message:""},va=async(e,s,r,a,n,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:x,validate:b,name:y,valueAsNumber:g,mount:v}=e._f,j=R(r,y);if(!v||s.has(y))return{};const w=o?o[0]:l,C=_=>{n&&w.reportValidity&&(w.setCustomValidity(Pe(_)?"":_||""),w.reportValidity())},E={},D=yr(l),M=Lt(l),K=D||M,W=(g||br(l))&&ie(l.value)&&ie(j)||Jt(l)&&l.value===""||j===""||Array.isArray(j)&&!j.length,P=zd.bind(null,y,a,E),T=(_,O,V,G=Ve.maxLength,q=Ve.minLength)=>{const Y=_?O:V;E[y]={type:_?G:q,message:Y,ref:l,...P(_?G:q,Y)}};if(i?!Array.isArray(j)||!j.length:c&&(!K&&(W||ue(j))||Pe(j)&&!j||M&&!Ln(o).isValid||D&&!Mn(o).isValid)){const{value:_,message:O}=Ut(c)?{value:!!c,message:c}:dt(c);if(_&&(E[y]={type:Ve.required,message:O,ref:w,...P(Ve.required,O)},!a))return C(O),E}if(!W&&(!ue(f)||!ue(p))){let _,O;const V=dt(p),G=dt(f);if(!ue(j)&&!isNaN(j)){const q=l.valueAsNumber||j&&+j;ue(V.value)||(_=q>V.value),ue(G.value)||(O=q<G.value)}else{const q=l.valueAsDate||new Date(j),Y=z=>new Date(new Date().toDateString()+" "+z),B=l.type=="time",$=l.type=="week";Re(V.value)&&j&&(_=B?Y(j)>Y(V.value):$?j>V.value:q>new Date(V.value)),Re(G.value)&&j&&(O=B?Y(j)<Y(G.value):$?j<G.value:q<new Date(G.value))}if((_||O)&&(T(!!_,V.message,G.message,Ve.max,Ve.min),!a))return C(E[y].message),E}if((d||u)&&!W&&(Re(j)||i&&Array.isArray(j))){const _=dt(d),O=dt(u),V=!ue(_.value)&&j.length>+_.value,G=!ue(O.value)&&j.length<+O.value;if((V||G)&&(T(V,_.message,O.message),!a))return C(E[y].message),E}if(x&&!W&&Re(j)){const{value:_,message:O}=dt(x);if(Zt(_)&&!j.match(_)&&(E[y]={type:Ve.pattern,message:O,ref:l,...P(Ve.pattern,O)},!a))return C(O),E}if(b){if(we(b)){const _=await b(j,r),O=ya(_,w);if(O&&(E[y]={...O,...P(Ve.validate,O.message)},!a))return C(O.message),E}else if(se(b)){let _={};for(const O in b){if(!he(_)&&!a)break;const V=ya(await b[O](j,r),w,O);V&&(_={...V,...P(O,V.message)},C(V.message),a&&(E[y]=_))}if(!he(_)&&(E[y]={ref:w,..._},!a))return E}}return C(!0),E};const lu={mode:Ne.onSubmit,reValidateMode:Ne.onChange,shouldFocusError:!0};function ou(e={}){let s={...lu,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:we(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},n=se(s.defaultValues)||se(s.values)?le(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:le(n),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:da(),state:da()},x=s.criteriaMode===Ne.all,b=h=>N=>{clearTimeout(d),d=setTimeout(h,N)},y=async h=>{if(!s.disabled&&(u.isValid||f.isValid||h)){const N=s.resolver?he((await M()).errors):await W(a,!0);N!==r.isValid&&p.state.next({isValid:N})}},g=(h,N)=>{!s.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((h||Array.from(o.mount)).forEach(S=>{S&&(N?ee(r.validatingFields,S,N):ne(r.validatingFields,S))}),p.state.next({validatingFields:r.validatingFields,isValidating:!he(r.validatingFields)}))},v=(h,N=[],S,A,F=!0,k=!0)=>{if(A&&S&&!s.disabled){if(l.action=!0,k&&Array.isArray(R(a,h))){const L=S(R(a,h),A.argA,A.argB);F&&ee(a,h,L)}if(k&&Array.isArray(R(r.errors,h))){const L=S(R(r.errors,h),A.argA,A.argB);F&&ee(r.errors,h,L),nu(r.errors,h)}if((u.touchedFields||f.touchedFields)&&k&&Array.isArray(R(r.touchedFields,h))){const L=S(R(r.touchedFields,h),A.argA,A.argB);F&&ee(r.touchedFields,h,L)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Nt(n,i)),p.state.next({name:h,isDirty:T(h,N),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ee(i,h,N)},j=(h,N)=>{ee(r.errors,h,N),p.state.next({errors:r.errors})},w=h=>{r.errors=h,p.state.next({errors:r.errors,isValid:!1})},C=(h,N,S,A)=>{const F=R(a,h);if(F){const k=R(i,h,ie(S)?R(n,h):S);ie(k)||A&&A.defaultChecked||N?ee(i,h,N?k:xa(F._f)):V(h,k),l.mount&&y()}},E=(h,N,S,A,F)=>{let k=!1,L=!1;const Q={name:h};if(!s.disabled){if(!S||A){(u.isDirty||f.isDirty)&&(L=r.isDirty,r.isDirty=Q.isDirty=T(),k=L!==Q.isDirty);const X=Ge(R(n,h),N);L=!!R(r.dirtyFields,h),X?ne(r.dirtyFields,h):ee(r.dirtyFields,h,!0),Q.dirtyFields=r.dirtyFields,k=k||(u.dirtyFields||f.dirtyFields)&&L!==!X}if(S){const X=R(r.touchedFields,h);X||(ee(r.touchedFields,h,S),Q.touchedFields=r.touchedFields,k=k||(u.touchedFields||f.touchedFields)&&X!==S)}k&&F&&p.state.next(Q)}return k?Q:{}},D=(h,N,S,A)=>{const F=R(r.errors,h),k=(u.isValid||f.isValid)&&Pe(N)&&r.isValid!==N;if(s.delayError&&S?(c=b(()=>j(h,S)),c(s.delayError)):(clearTimeout(d),c=null,S?ee(r.errors,h,S):ne(r.errors,h)),(S?!Ge(F,S):F)||!he(A)||k){const L={...A,...k&&Pe(N)?{isValid:N}:{},errors:r.errors,name:h};r={...r,...L},p.state.next(L)}},M=async h=>{g(h,!0);const N=await s.resolver(i,s.context,Zd(h||o.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return g(h),N},K=async h=>{const{errors:N}=await M(h);if(h)for(const S of h){const A=R(N,S);A?ee(r.errors,S,A):ne(r.errors,S)}else r.errors=N;return N},W=async(h,N,S={valid:!0})=>{for(const A in h){const F=h[A];if(F){const{_f:k,...L}=F;if(k){const Q=o.array.has(k.name),X=F._f&&eu(F._f);X&&u.validatingFields&&g([A],!0);const be=await va(F,o.disabled,i,x,s.shouldUseNativeValidation&&!N,Q);if(X&&u.validatingFields&&g([A]),be[k.name]&&(S.valid=!1,N))break;!N&&(R(be,k.name)?Q?iu(r.errors,be,k.name):ee(r.errors,k.name,be[k.name]):ne(r.errors,k.name))}!he(L)&&await W(L,N,S)}}return S.valid},P=()=>{for(const h of o.unMount){const N=R(a,h);N&&(N._f.refs?N._f.refs.every(S=>!Fs(S)):!Fs(N._f.ref))&&Ze(h)}o.unMount=new Set},T=(h,N)=>!s.disabled&&(h&&N&&ee(i,h,N),!Ge(z(),n)),_=(h,N,S)=>Yd(h,o,{...l.mount?i:ie(N)?n:Re(h)?{[h]:N}:N},S,N),O=h=>pr(R(l.mount?i:n,h,s.shouldUnregister?R(n,h,[]):[])),V=(h,N,S={})=>{const A=R(a,h);let F=N;if(A){const k=A._f;k&&(!k.disabled&&ee(i,h,On(N,k)),F=Jt(k.ref)&&ue(N)?"":N,Rn(k.ref)?[...k.ref.options].forEach(L=>L.selected=F.includes(L.value)):k.refs?Lt(k.ref)?k.refs.forEach(L=>{(!L.defaultChecked||!L.disabled)&&(Array.isArray(F)?L.checked=!!F.find(Q=>Q===L.value):L.checked=F===L.value||!!F)}):k.refs.forEach(L=>L.checked=L.value===F):br(k.ref)?k.ref.value="":(k.ref.value=F,k.ref.type||p.state.next({name:h,values:le(i)})))}(S.shouldDirty||S.shouldTouch)&&E(h,F,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&$(h)},G=(h,N,S)=>{for(const A in N){if(!N.hasOwnProperty(A))return;const F=N[A],k=h+"."+A,L=R(a,k);(o.array.has(h)||se(F)||L&&!L._f)&&!nt(F)?G(k,F,S):V(k,F,S)}},q=(h,N,S={})=>{const A=R(a,h),F=o.array.has(h),k=le(N);ee(i,h,k),F?(p.array.next({name:h,values:le(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&S.shouldDirty&&p.state.next({name:h,dirtyFields:Nt(n,i),isDirty:T(h,k)})):A&&!A._f&&!ue(k)?G(h,k,S):V(h,k,S),ga(h,o)&&p.state.next({...r}),p.state.next({name:l.mount?h:void 0,values:le(i)})},Y=async h=>{l.mount=!0;const N=h.target;let S=N.name,A=!0;const F=R(a,S),k=X=>{A=Number.isNaN(X)||nt(X)&&isNaN(X.getTime())||Ge(X,R(i,S,X))},L=ha(s.mode),Q=ha(s.reValidateMode);if(F){let X,be;const Ot=N.type?xa(F._f):Bd(h),Ue=h.type===ca.BLUR||h.type===ca.FOCUS_OUT,qn=!tu(F._f)&&!s.resolver&&!R(r.errors,S)&&!F._f.deps||au(Ue,R(r.touchedFields,S),r.isSubmitted,Q,L),xs=ga(S,o,Ue);ee(i,S,Ot),Ue?(F._f.onBlur&&F._f.onBlur(h),c&&c(0)):F._f.onChange&&F._f.onChange(h);const hs=E(S,Ot,Ue),Un=!he(hs)||xs;if(!Ue&&p.state.next({name:S,type:h.type,values:le(i)}),qn)return(u.isValid||f.isValid)&&(s.mode==="onBlur"?Ue&&y():Ue||y()),Un&&p.state.next({name:S,...xs?{}:hs});if(!Ue&&xs&&p.state.next({...r}),s.resolver){const{errors:Sr}=await M([S]);if(k(Ot),A){const Wn=ba(r.errors,a,S),Er=ba(Sr,a,Wn.name||S);X=Er.error,S=Er.name,be=he(Sr)}}else g([S],!0),X=(await va(F,o.disabled,i,x,s.shouldUseNativeValidation))[S],g([S]),k(Ot),A&&(X?be=!1:(u.isValid||f.isValid)&&(be=await W(a,!0)));A&&(F._f.deps&&$(F._f.deps),D(S,be,X,hs))}},B=(h,N)=>{if(R(r.errors,N)&&h.focus)return h.focus(),1},$=async(h,N={})=>{let S,A;const F=$t(h);if(s.resolver){const k=await K(ie(h)?h:F);S=he(k),A=h?!F.some(L=>R(k,L)):S}else h?(A=(await Promise.all(F.map(async k=>{const L=R(a,k);return await W(L&&L._f?{[k]:L}:L)}))).every(Boolean),!(!A&&!r.isValid)&&y()):A=S=await W(a);return p.state.next({...!Re(h)||(u.isValid||f.isValid)&&S!==r.isValid?{}:{name:h},...s.resolver||!h?{isValid:S}:{},errors:r.errors}),N.shouldFocus&&!A&&Ft(a,B,h?F:o.mount),A},z=h=>{const N={...l.mount?i:n};return ie(h)?N:Re(h)?R(N,h):h.map(S=>R(N,S))},je=(h,N)=>({invalid:!!R((N||r).errors,h),isDirty:!!R((N||r).dirtyFields,h),error:R((N||r).errors,h),isValidating:!!R(r.validatingFields,h),isTouched:!!R((N||r).touchedFields,h)}),$e=h=>{h&&$t(h).forEach(N=>ne(r.errors,N)),p.state.next({errors:h?r.errors:{}})},re=(h,N,S)=>{const A=(R(a,h,{_f:{}})._f||{}).ref,F=R(r.errors,h)||{},{ref:k,message:L,type:Q,...X}=F;ee(r.errors,h,{...X,...N,ref:A}),p.state.next({name:h,errors:r.errors,isValid:!1}),S&&S.shouldFocus&&A&&A.focus&&A.focus()},us=(h,N)=>we(h)?p.state.subscribe({next:S=>h(_(void 0,N),S)}):_(h,N,!0),qe=h=>p.state.subscribe({next:N=>{ru(h.name,N.name,h.exact)&&su(N,h.formState||u,Hn,h.reRenderRoot)&&h.callback({values:{...i},...r,...N})}}).unsubscribe,ms=h=>(l.mount=!0,f={...f,...h.formState},qe({...h,formState:f})),Ze=(h,N={})=>{for(const S of h?$t(h):o.mount)o.mount.delete(S),o.array.delete(S),N.keepValue||(ne(a,S),ne(i,S)),!N.keepError&&ne(r.errors,S),!N.keepDirty&&ne(r.dirtyFields,S),!N.keepTouched&&ne(r.touchedFields,S),!N.keepIsValidating&&ne(r.validatingFields,S),!s.shouldUnregister&&!N.keepDefaultValue&&ne(n,S);p.state.next({values:le(i)}),p.state.next({...r,...N.keepDirty?{isDirty:T()}:{}}),!N.keepIsValid&&y()},et=({disabled:h,name:N})=>{(Pe(h)&&l.mount||h||o.disabled.has(N))&&(h?o.disabled.add(N):o.disabled.delete(N))},De=(h,N={})=>{let S=R(a,h);const A=Pe(N.disabled)||Pe(s.disabled);return ee(a,h,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:h}},name:h,mount:!0,...N}}),o.mount.add(h),S?et({disabled:Pe(N.disabled)?N.disabled:s.disabled,name:h}):C(h,!0,N.value),{...A?{disabled:N.disabled||s.disabled}:{},...s.progressive?{required:!!N.required,min:wt(N.min),max:wt(N.max),minLength:wt(N.minLength),maxLength:wt(N.maxLength),pattern:wt(N.pattern)}:{},name:h,onChange:Y,onBlur:Y,ref:F=>{if(F){De(h,N),S=R(a,h);const k=ie(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,L=Qd(k),Q=S._f.refs||[];if(L?Q.find(X=>X===k):k===S._f.ref)return;ee(a,h,{_f:{...S._f,...L?{refs:[...Q.filter(Fs),k,...Array.isArray(R(n,h))?[{}]:[]],ref:{type:k.type,name:h}}:{ref:k}}}),C(h,!1,void 0,k)}else S=R(a,h,{}),S._f&&(S._f.mount=!1),(s.shouldUnregister||N.shouldUnregister)&&!(qd(o.array,h)&&l.action)&&o.unMount.add(h)}}},fs=()=>s.shouldFocusError&&Ft(a,B,o.mount),Dn=h=>{Pe(h)&&(p.state.next({disabled:h}),Ft(a,(N,S)=>{const A=R(a,S);A&&(N.disabled=A._f.disabled||h,Array.isArray(A._f.refs)&&A._f.refs.forEach(F=>{F.disabled=A._f.disabled||h}))},0,!1))},vr=(h,N)=>async S=>{let A;S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist());let F=le(i);if(p.state.next({isSubmitting:!0}),s.resolver){const{errors:k,values:L}=await M();r.errors=k,F=le(L)}else await W(a);if(o.disabled.size)for(const k of o.disabled)ne(F,k);if(ne(r.errors,"root"),he(r.errors)){p.state.next({errors:{}});try{await h(F,S)}catch(k){A=k}}else N&&await N({...r.errors},S),fs(),setTimeout(fs);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:he(r.errors)&&!A,submitCount:r.submitCount+1,errors:r.errors}),A)throw A},Vn=(h,N={})=>{R(a,h)&&(ie(N.defaultValue)?q(h,le(R(n,h))):(q(h,N.defaultValue),ee(n,h,le(N.defaultValue))),N.keepTouched||ne(r.touchedFields,h),N.keepDirty||(ne(r.dirtyFields,h),r.isDirty=N.defaultValue?T(h,le(R(n,h))):T()),N.keepError||(ne(r.errors,h),u.isValid&&y()),p.state.next({...r}))},jr=(h,N={})=>{const S=h?le(h):n,A=le(S),F=he(h),k=F?n:A;if(N.keepDefaultValues||(n=S),!N.keepValues){if(N.keepDirtyValues){const L=new Set([...o.mount,...Object.keys(Nt(n,i))]);for(const Q of Array.from(L))R(r.dirtyFields,Q)?ee(k,Q,R(i,Q)):q(Q,R(k,Q))}else{if(hr&&ie(h))for(const L of o.mount){const Q=R(a,L);if(Q&&Q._f){const X=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(Jt(X)){const be=X.closest("form");if(be){be.reset();break}}}}if(N.keepFieldsRef)for(const L of o.mount)q(L,R(k,L));else a={}}i=s.shouldUnregister?N.keepDefaultValues?le(n):{}:le(k),p.array.next({values:{...k}}),p.state.next({values:{...k}})}o={mount:N.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!N.keepIsValid||!!N.keepDirtyValues,l.watch=!!s.shouldUnregister,p.state.next({submitCount:N.keepSubmitCount?r.submitCount:0,isDirty:F?!1:N.keepDirty?r.isDirty:!!(N.keepDefaultValues&&!Ge(h,n)),isSubmitted:N.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:F?{}:N.keepDirtyValues?N.keepDefaultValues&&i?Nt(n,i):r.dirtyFields:N.keepDefaultValues&&h?Nt(n,h):N.keepDirty?r.dirtyFields:{},touchedFields:N.keepTouched?r.touchedFields:{},errors:N.keepErrors?r.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Nr=(h,N)=>jr(we(h)?h(i):h,N),Bn=(h,N={})=>{const S=R(a,h),A=S&&S._f;if(A){const F=A.refs?A.refs[0]:A.ref;F.focus&&(F.focus(),N.shouldSelect&&we(F.select)&&F.select())}},Hn=h=>{r={...r,...h}},wr={control:{register:De,unregister:Ze,getFieldState:je,handleSubmit:vr,setError:re,_subscribe:qe,_runSchema:M,_focusError:fs,_getWatch:_,_getDirty:T,_setValid:y,_setFieldArray:v,_setDisabledField:et,_setErrors:w,_getFieldArray:O,_reset:jr,_resetDefaultValues:()=>we(s.defaultValues)&&s.defaultValues().then(h=>{Nr(h,s.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Dn,_subjects:p,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(h){l=h},get _defaultValues(){return n},get _names(){return o},set _names(h){o=h},get _formState(){return r},get _options(){return s},set _options(h){s={...s,...h}}},subscribe:ms,trigger:$,register:De,handleSubmit:vr,watch:us,setValue:q,getValues:z,reset:Nr,resetField:Vn,clearErrors:$e,unregister:Ze,setError:re,setFocus:Bn,getFieldState:je};return{...wr,formControl:wr}}function ds(e={}){const s=H.useRef(void 0),r=H.useRef(void 0),[a,n]=H.useState({isDirty:!1,isValidating:!1,isLoading:we(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:we(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:a},e.defaultValues&&!we(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=ou(e);s.current={...o,formState:a}}const i=s.current.control;return i._options=e,Kd(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),H.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),H.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),H.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),H.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),H.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),H.useEffect(()=>{e.values&&!Ge(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,n(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),H.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=Gd(a,i),s.current}const cu=()=>{const e=ht(),{user:s}=ke(),[r,a]=m.useState(!1),[n,i]=m.useState([]),{register:l,handleSubmit:o,formState:{errors:c},watch:d}=ds({defaultValues:{condition:"good",delivery_available:!1,pickup_available:!0,is_negotiable:!0}}),{data:u,isLoading:f}=Le("categories",xr.getCategories,{select:b=>b.data}),p=async b=>{if(!s){e("/login");return}a(!0);try{const y=new FormData;Object.keys(b).forEach(v=>{v.startsWith("image")&&b[v]?.[0]?y.append(v,b[v][0]):b[v]!==null&&b[v]!==void 0&&y.append(v,b[v])});const g=await _e.createItem(y);e(`/items/${g.data.id}`)}catch(y){console.error("Error creating item:",y),alert("Failed to create item. Please try again.")}finally{a(!1)}},x=(b,y)=>{const g=b.target.files[0];if(g){const v=[...n];v[y]=URL.createObjectURL(g),i(v)}};return s?t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Listing"}),t.jsx("p",{className:"text-gray-600",children:"Fill in the details below to list your item"})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:t.jsxs("form",{onSubmit:o(p),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-camera text-primary-600 mr-2"}),"Item Photos"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[0,1,2,3,4].map(b=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-primary-400 transition-colors duration-200 h-32 flex items-center justify-center",children:n[b]?t.jsx("img",{src:n[b],alt:`Preview ${b+1}`,className:"w-full h-full object-cover rounded-lg"}):t.jsxs("div",{className:"text-gray-400",children:[t.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),t.jsx("p",{className:"text-xs",children:"Add Photo"})]})}),t.jsx("input",{type:"file",accept:"image/*",...l(b===0?"image":`image_${b+1}`),onChange:y=>x(y,b),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]},b))}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 10MB each. First image will be the main photo."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-tag text-primary-600 mr-2"}),"Category *"]}),t.jsxs("select",{...l("category",{required:"Please select a category"}),className:"input-field",disabled:f,children:[t.jsx("option",{value:"",children:"Select a category"}),u?.map(b=>t.jsx("option",{value:b.id,children:b.name},b.id))]}),c.category&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.category.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-box text-primary-600 mr-2"}),"Item Name *"]}),t.jsx("input",{type:"text",...l("name",{required:"Item name is required"}),className:"input-field",placeholder:"Enter item name..."}),c.name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.name.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-align-left text-primary-600 mr-2"}),"Description"]}),t.jsx("textarea",{...l("description"),rows:6,className:"input-field",placeholder:"Describe your item in detail..."}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Provide detailed information about your item's condition, features, and any relevant details."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-map-marker-alt text-primary-600 mr-2"}),"Location *"]}),t.jsx("input",{type:"text",...l("location",{required:"Location is required"}),className:"input-field",placeholder:"Enter your location..."}),c.location&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.location.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-dollar-sign text-primary-600 mr-2"}),"Price (KSh) *"]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium",children:"KSh"}),t.jsx("input",{type:"number",step:"0.01",min:"0",...l("price",{required:"Price is required",min:{value:0,message:"Price must be positive"}}),className:"input-field pl-16",placeholder:"0.00"})]}),c.price&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.price.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-star text-primary-600 mr-2"}),"Condition"]}),t.jsxs("select",{...l("condition"),className:"input-field",children:[t.jsx("option",{value:"new",children:"Brand New"}),t.jsx("option",{value:"like_new",children:"Like New"}),t.jsx("option",{value:"excellent",children:"Excellent"}),t.jsx("option",{value:"good",children:"Good"}),t.jsx("option",{value:"fair",children:"Fair"}),t.jsx("option",{value:"poor",children:"Poor"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery & Pickup Options"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",...l("delivery_available"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Delivery available"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",...l("pickup_available"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Pickup available"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",...l("is_negotiable"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Price is negotiable"})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[t.jsxs("button",{type:"button",onClick:()=>e("/dashboard"),className:"text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Cancel"]}),t.jsx("button",{type:"submit",disabled:r,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("span",{children:"Creating..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-check"}),t.jsx("span",{children:"List Item"})]})})]})]})}),t.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[t.jsxs("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[t.jsx("i",{className:"fas fa-lightbulb mr-2"}),"Tips for a Great Listing"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"fas fa-check text-blue-600 mt-0.5"}),t.jsx("span",{children:"Use high-quality, well-lit photos from multiple angles"})]}),t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"fas fa-check text-blue-600 mt-0.5"}),t.jsx("span",{children:"Write a detailed, honest description of the item's condition"})]}),t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"fas fa-check text-blue-600 mt-0.5"}),t.jsx("span",{children:"Research similar items to set a competitive price"})]}),t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx("i",{className:"fas fa-check text-blue-600 mt-0.5"}),t.jsx("span",{children:"Respond quickly to buyer inquiries to build trust"})]})]})]})]}):(e("/login"),null)},du=()=>{const{id:e}=Na(),s=ht(),{user:r}=ke(),[a,n]=m.useState(!1),[i,l]=m.useState([]),{register:o,handleSubmit:c,formState:{errors:d},reset:u}=ds(),{data:f,isLoading:p}=Le(["item",e],()=>_e.getItem(e),{select:v=>v.data,onSuccess:v=>{u({category:v.category?.id,name:v.name,description:v.description,price:v.price,condition:v.condition,location:v.location,delivery_available:v.delivery_available,pickup_available:v.pickup_available,is_negotiable:v.is_negotiable,status:v.status});const j=[v.image,v.image_2,v.image_3,v.image_4,v.image_5].filter(Boolean);l(j)}}),{data:x,isLoading:b}=Le("categories",xr.getCategories,{select:v=>v.data}),y=async v=>{if(!r||r.id!==f?.created_by?.id){s("/login");return}n(!0);try{const j=new FormData;Object.keys(v).forEach(w=>{w.startsWith("image")&&v[w]?.[0]?j.append(w,v[w][0]):v[w]!==null&&v[w]!==void 0&&j.append(w,v[w])}),await _e.updateItem(e,j),s(`/items/${e}`)}catch(j){console.error("Error updating item:",j),alert("Failed to update item. Please try again.")}finally{n(!1)}},g=(v,j)=>{const w=v.target.files[0];if(w){const C=[...i];C[j]=URL.createObjectURL(w),l(C)}};return p?t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),t.jsxs("div",{className:"card p-8 space-y-6",children:[t.jsx("div",{className:"h-32 bg-gray-300 rounded"}),t.jsx("div",{className:"h-10 bg-gray-300 rounded"}),t.jsx("div",{className:"h-10 bg-gray-300 rounded"}),t.jsx("div",{className:"h-20 bg-gray-300 rounded"})]})]})}):!f||r?.id!==f.created_by?.id?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You can only edit your own listings."}),t.jsx("button",{onClick:()=>s("/dashboard"),className:"btn-primary",children:"Back to Dashboard"})]}):t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Listing"}),t.jsx("p",{className:"text-gray-600",children:"Update your item details"})]}),t.jsx("div",{className:"card p-8",children:t.jsxs("form",{onSubmit:c(y),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-camera text-primary-600 mr-2"}),"Item Photos"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[0,1,2,3,4].map(v=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-primary-400 transition-colors duration-200 h-32 flex items-center justify-center",children:i[v]?t.jsx("img",{src:i[v],alt:`Preview ${v+1}`,className:"w-full h-full object-cover rounded-lg"}):t.jsxs("div",{className:"text-gray-400",children:[t.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),t.jsx("p",{className:"text-xs",children:"Add Photo"})]})}),t.jsx("input",{type:"file",accept:"image/*",...o(v===0?"image":`image_${v+1}`),onChange:j=>g(j,v),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]},v))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-tag text-primary-600 mr-2"}),"Category *"]}),t.jsxs("select",{...o("category",{required:"Please select a category"}),className:"input-field",disabled:b,children:[t.jsx("option",{value:"",children:"Select a category"}),x?.map(v=>t.jsx("option",{value:v.id,children:v.name},v.id))]}),d.category&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.category.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-box text-primary-600 mr-2"}),"Item Name *"]}),t.jsx("input",{type:"text",...o("name",{required:"Item name is required"}),className:"input-field",placeholder:"Enter item name..."}),d.name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-align-left text-primary-600 mr-2"}),"Description"]}),t.jsx("textarea",{...o("description"),rows:6,className:"input-field",placeholder:"Describe your item in detail..."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-map-marker-alt text-primary-600 mr-2"}),"Location *"]}),t.jsx("input",{type:"text",...o("location",{required:"Location is required"}),className:"input-field",placeholder:"Enter your location..."}),d.location&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.location.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-dollar-sign text-primary-600 mr-2"}),"Price (KSh) *"]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium",children:"KSh"}),t.jsx("input",{type:"number",step:"0.01",min:"0",...o("price",{required:"Price is required",min:{value:0,message:"Price must be positive"}}),className:"input-field pl-16",placeholder:"0.00"})]}),d.price&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.price.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-star text-primary-600 mr-2"}),"Condition"]}),t.jsxs("select",{...o("condition"),className:"input-field",children:[t.jsx("option",{value:"new",children:"Brand New"}),t.jsx("option",{value:"like_new",children:"Like New"}),t.jsx("option",{value:"excellent",children:"Excellent"}),t.jsx("option",{value:"good",children:"Good"}),t.jsx("option",{value:"fair",children:"Fair"}),t.jsx("option",{value:"poor",children:"Poor"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[t.jsx("i",{className:"fas fa-toggle-on text-primary-600 mr-2"}),"Status"]}),t.jsxs("select",{...o("status"),className:"input-field",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"sold",children:"Sold"}),t.jsx("option",{value:"pending",children:"Pending"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery & Pickup Options"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",...o("delivery_available"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Delivery available"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",...o("pickup_available"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Pickup available"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",...o("is_negotiable"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("label",{className:"text-sm text-gray-700",children:"Price is negotiable"})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[t.jsxs("button",{type:"button",onClick:()=>s(`/items/${e}`),className:"text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200",children:[t.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Cancel"]}),t.jsx("button",{type:"submit",disabled:a,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:a?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin"}),t.jsx("span",{children:"Updating..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-save"}),t.jsx("span",{children:"Update Item"})]})})]})]})})]})},uu=()=>{const[e,s]=m.useState("overview"),{user:r}=ke(),{data:a,isLoading:n}=Le("userItems",()=>_e.getItems({created_by:r?.username}),{select:c=>c.data,enabled:!!r}),i=a?.results||[],l=i.filter(c=>c.status==="active"),o=i.filter(c=>c.status==="sold");return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your listings and track your sales"})]}),t.jsx("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:t.jsxs(I,{to:"/items/new",className:"btn-primary flex items-center space-x-2",children:[t.jsx("i",{className:"fas fa-plus"}),t.jsx("span",{children:"New Listing"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Listings"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.length}),t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),"+12% from last month"]})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-box text-blue-600 text-xl"})})]})}),t.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Listings"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:l.length}),t.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[t.jsx("i",{className:"fas fa-eye mr-1"}),"All visible"]})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-check-circle text-green-600 text-xl"})})]})}),t.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.reduce((c,d)=>c+(d.views||0),0)}),t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),"+8% from last week"]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-eye text-purple-600 text-xl"})})]})}),t.jsx("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Messages"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"23"}),t.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:[t.jsx("i",{className:"fas fa-clock mr-1"}),"5 unread"]})]}),t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-envelope text-orange-600 text-xl"})})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-8 px-6",children:["overview","listings","analytics","settings"].map(c=>t.jsx("button",{onClick:()=>s(c),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 capitalize ${e===c?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:c},c))})}),t.jsxs("div",{className:"p-6",children:[e==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-plus text-green-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"New listing created"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[i[0]?.name||"Latest item"," - KSh ",i[0]?.price||"0"]})]}),t.jsx("span",{className:"text-sm text-gray-500",children:"2 hours ago"})]}),t.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-message text-blue-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"New message received"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Inquiry about ",i[1]?.name||"your item"]})]}),t.jsx("span",{className:"text-sm text-gray-500",children:"4 hours ago"})]}),t.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-eye text-purple-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Item viewed"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[i[0]?.name||"Your item"," got new views"]})]}),t.jsx("span",{className:"text-sm text-gray-500",children:"6 hours ago"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(I,{to:"/items/new",className:"flex items-center space-x-3 p-4 bg-primary-50 hover:bg-primary-100 rounded-xl transition-colors duration-200",children:[t.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-plus text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-primary-900",children:"Create Listing"}),t.jsx("p",{className:"text-sm text-primary-600",children:"Add a new item"})]})]}),t.jsxs(I,{to:"/inbox",className:"flex items-center space-x-3 p-4 bg-green-50 hover:bg-green-100 rounded-xl transition-colors duration-200",children:[t.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-envelope text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-green-900",children:"Check Messages"}),t.jsx("p",{className:"text-sm text-green-600",children:"5 unread messages"})]})]}),t.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-orange-50 hover:bg-orange-100 rounded-xl transition-colors duration-200",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center",children:t.jsx("i",{className:"fas fa-chart-line text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-orange-900",children:"View Analytics"}),t.jsx("p",{className:"text-sm text-orange-600",children:"Track performance"})]})]})]})]})]}),e==="listings"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Listings (",i.length,")"]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[t.jsx("option",{children:"All Items"}),t.jsx("option",{children:"Active"}),t.jsx("option",{children:"Sold"}),t.jsx("option",{children:"Draft"})]})})]}),i.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(c=>t.jsxs("div",{className:"group card overflow-hidden hover:shadow-lg transition-all duration-300",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:c.image||"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=400",alt:c.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c.status==="active"?"bg-green-500 text-white":c.status==="sold"?"bg-red-500 text-white":c.status==="pending"?"bg-yellow-500 text-white":"bg-gray-500 text-white"}`,children:c.status==="active"?"Active":c.status==="sold"?"Sold":c.status==="pending"?"Pending":c.status})}),t.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(I,{to:`/items/${c.id}/edit`,className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-blue-600 hover:text-blue-700",children:t.jsx("i",{className:"fas fa-edit text-sm"})}),t.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this item?")},className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-red-600 hover:text-red-700",children:t.jsx("i",{className:"fas fa-trash text-sm"})})]})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors duration-200",children:t.jsx(I,{to:`/items/${c.id}`,children:c.name})}),t.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["KSh ",c.price]})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:c.description||"No description"}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-eye"}),t.jsxs("span",{children:[c.views||0," views"]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:new Date(c.created_at).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(I,{to:`/items/${c.id}`,className:"flex-1 btn-secondary py-2 px-3 text-sm text-center",children:"View"}),t.jsx(I,{to:`/items/${c.id}/edit`,className:"flex-1 btn-primary py-2 px-3 text-sm text-center",children:"Edit"})]})]})]},c.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-box-open text-gray-400 text-3xl"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No listings yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first listing to start selling on Matrix Marketplace."}),t.jsx(I,{to:"/items/new",className:"btn-primary",children:"Create Your First Listing"})]})]}),e==="analytics"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"card border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Total Views"}),t.jsx("i",{className:"fas fa-eye text-blue-600"})]}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:i.reduce((c,d)=>c+(d.views||0),0)}),t.jsxs("div",{className:"text-sm text-green-600",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),"+12% from last month"]})]}),t.jsxs("div",{className:"card border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Active Listings"}),t.jsx("i",{className:"fas fa-box text-green-600"})]}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:l.length}),t.jsxs("div",{className:"text-sm text-blue-600",children:[t.jsx("i",{className:"fas fa-eye mr-1"}),"All visible"]})]}),t.jsxs("div",{className:"card border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Items Sold"}),t.jsx("i",{className:"fas fa-check-circle text-green-600"})]}),t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.length}),t.jsxs("div",{className:"text-sm text-green-600",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),"+5% from last week"]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-chart-line text-gray-400 text-2xl"})}),t.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Coming Soon"}),t.jsx("p",{className:"text-gray-600",children:"Track your listing performance, views, and engagement metrics."})]})]}),e==="settings"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Settings"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"card border border-gray-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Profile Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),t.jsx("input",{type:"text",value:r?.username||"",className:"input-field",readOnly:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:r?.email||"",className:"input-field",readOnly:!0})]}),t.jsx(I,{to:"/profile",className:"btn-primary",children:"Update Profile"})]})]}),t.jsxs("div",{className:"card border border-gray-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Notifications"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Email notifications for new messages"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Email notifications for item inquiries"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Marketing emails"})]}),t.jsx("button",{className:"btn-primary",children:"Save Preferences"})]})]})]})]})]})]})]})},mu=()=>{const e=ht(),{login:s}=ke(),[r,a]=m.useState(!1),[n,i]=m.useState(""),{register:l,handleSubmit:o,formState:{errors:c}}=ds(),d=async u=>{a(!0),i("");try{const f=await Ys.login(u),{access:p,refresh:x}=f.data,y=(await Ys.getProfile()).data;s(y,{access:p,refresh:x}),e("/dashboard")}catch(f){i(f.response?.data?.message||"Login failed. Please try again.")}finally{a(!1)}};return t.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-store text-white text-2xl"})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome back"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Sign in to your Matrix account"})]}),t.jsxs("div",{className:"card p-8",children:[t.jsxs("form",{onSubmit:o(d),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-user text-primary-600 mr-2"}),"Username or Email"]}),t.jsx("input",{type:"text",...l("username",{required:"Username or email is required"}),className:"input-field",placeholder:"Enter your username or email"}),c.username&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.username.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-lock text-primary-600 mr-2"}),"Password"]}),t.jsx("input",{type:"password",...l("password",{required:"Password is required"}),className:"input-field",placeholder:"Enter your password"}),c.password&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),t.jsx(I,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})]}),n&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("i",{className:"fas fa-exclamation-triangle text-red-600 mr-2"}),t.jsx("h3",{className:"font-semibold text-red-900",children:"Sign in failed"})]}),t.jsx("p",{className:"text-sm text-red-700",children:n})]}),t.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:r?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Signing In..."]}):"Sign In"})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[t.jsxs("button",{className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("i",{className:"fab fa-google text-red-500 mr-2"}),"Google"]}),t.jsxs("button",{className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("i",{className:"fab fa-facebook text-blue-600 mr-2"}),"Facebook"]})]})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",t.jsx(I,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Sign up for free"})]})})]})})},fu=()=>{const e=ht(),[s,r]=m.useState(!1),[a,n]=m.useState(""),{register:i,handleSubmit:l,formState:{errors:o},watch:c}=ds(),d=c("password1"),u=async f=>{r(!0),n("");try{await Ys.signup(f),e("/login",{state:{message:"Account created successfully! Please sign in."}})}catch(p){const x=p.response?.data;if(x){const b=Object.values(x).flat().join(" ");n(b)}else n("Registration failed. Please try again.")}finally{r(!1)}};return t.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-store text-white text-2xl"})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create your account"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Join thousands of users on Matrix Marketplace"})]}),t.jsxs("div",{className:"card p-8",children:[t.jsxs("form",{onSubmit:l(u),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-user text-primary-600 mr-2"}),"Username"]}),t.jsx("input",{type:"text",...i("username",{required:"Username is required"}),className:"input-field",placeholder:"Choose a unique username"}),o.username&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.username.message})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-user text-primary-600 mr-2"}),"First Name"]}),t.jsx("input",{type:"text",...i("first_name",{required:"First name is required"}),className:"input-field",placeholder:"Enter your first name"}),o.first_name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.first_name.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-user text-primary-600 mr-2"}),"Last Name"]}),t.jsx("input",{type:"text",...i("last_name",{required:"Last name is required"}),className:"input-field",placeholder:"Enter your last name"}),o.last_name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.last_name.message})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-envelope text-primary-600 mr-2"}),"Email Address"]}),t.jsx("input",{type:"email",...i("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),className:"input-field",placeholder:"Enter your email address"}),o.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-phone text-primary-600 mr-2"}),"Phone Number (Optional)"]}),t.jsx("input",{type:"tel",...i("phone_number"),className:"input-field",placeholder:"Enter your phone number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-map-marker-alt text-primary-600 mr-2"}),"Location (Optional)"]}),t.jsx("input",{type:"text",...i("location"),className:"input-field",placeholder:"Enter your city/location"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-lock text-primary-600 mr-2"}),"Password"]}),t.jsx("input",{type:"password",...i("password1",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"input-field",placeholder:"Create a strong password"}),o.password1&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password1.message})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[t.jsx("i",{className:"fas fa-lock text-primary-600 mr-2"}),"Confirm Password"]}),t.jsx("input",{type:"password",...i("password2",{required:"Please confirm your password",validate:f=>f===d||"Passwords do not match"}),className:"input-field",placeholder:"Confirm your password"}),o.password2&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password2.message})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx("input",{type:"checkbox",...i("terms",{required:"You must accept the terms and conditions"}),className:"mt-1 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("div",{className:"ml-3 text-sm",children:t.jsxs("span",{className:"text-gray-600",children:["I agree to the"," ",t.jsx(I,{to:"/terms",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Terms of Service"})," ","and"," ",t.jsx(I,{to:"/privacy",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Privacy Policy"})]})})]}),o.terms&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.terms.message}),a&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("i",{className:"fas fa-exclamation-triangle text-red-600 mr-2"}),t.jsx("h3",{className:"font-semibold text-red-900",children:"Registration failed"})]}),t.jsx("p",{className:"text-sm text-red-700",children:a})]}),t.jsx("button",{type:"submit",disabled:s,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Creating Account..."]}):"Create Account"})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or sign up with"})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[t.jsxs("button",{className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("i",{className:"fab fa-google text-red-500 mr-2"}),"Google"]}),t.jsxs("button",{className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors duration-200",children:[t.jsx("i",{className:"fab fa-facebook text-blue-600 mr-2"}),"Facebook"]})]})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",t.jsx(I,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Sign in here"})]})})]})})},xu=()=>{const{user:e}=ke();return t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-user text-gray-400 text-3xl"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Profile Page"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Profile management coming soon"}),t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-auto",children:[t.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"Current User Info"}),t.jsxs("div",{className:"text-left space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Username:"})," ",e?.username]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",e?.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"First Name:"})," ",e?.first_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Name:"})," ",e?.last_name]})]})]})]})})},hu=()=>{const{user:e}=ke(),{data:s,isLoading:r}=Le("favoriteItems",()=>_e.getItems({favorites:!0}),{select:n=>n.data?.results||[],enabled:!!e}),a=async n=>{try{await _e.toggleFavorite(n),window.location.reload()}catch(i){console.error("Error toggling favorite:",i)}};return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favorites"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Items you've saved for later"})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[s?.length||0," item",s?.length!==1?"s":""]})]}),r?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((n,i)=>t.jsxs("div",{className:"card p-4 animate-pulse",children:[t.jsx("div",{className:"bg-gray-300 h-48 rounded-lg mb-4"}),t.jsx("div",{className:"bg-gray-300 h-4 rounded mb-2"}),t.jsx("div",{className:"bg-gray-300 h-4 rounded w-2/3"})]},i))}):s&&s.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(n=>t.jsxs("div",{className:"group card overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("img",{src:n.image||"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=400",alt:n.name,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.status==="active"?"bg-green-500 text-white":n.status==="sold"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,children:n.status==="active"?"Available":n.status==="sold"?"Sold":n.status})}),t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx("button",{onClick:()=>a(n.id),className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-red-500 hover:text-red-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-heart text-sm"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors duration-200 line-clamp-1",children:n.name}),t.jsxs("div",{className:"flex items-center space-x-1 text-yellow-500",children:[t.jsx("i",{className:"fas fa-star text-xs"}),t.jsx("span",{className:"text-xs text-gray-600",children:"4.8"})]})]}),t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:n.description||"No description available"}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["KSh ",n.price]}),t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[t.jsx("i",{className:"fas fa-user"}),t.jsx("span",{children:n.created_by?.username})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-clock"}),t.jsx("span",{children:new Date(n.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("i",{className:"fas fa-heart"}),t.jsx("span",{children:"Favorited"})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(I,{to:`/items/${n.id}`,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-2 px-3 rounded-lg text-sm font-medium text-center transition-colors duration-200",children:"View Details"}),t.jsx(I,{to:`/inbox/new/${n.id}`,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded-lg text-sm font-medium text-center transition-colors duration-200",children:"Contact"})]})]})]},n.id))}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-heart text-gray-400 text-3xl"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No favorites yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Start browsing items and add them to your favorites!"}),t.jsx(I,{to:"/marketplace",className:"btn-primary",children:"Browse Items"})]})]})},As=()=>{const{user:e}=ke(),{data:s,isLoading:r}=Le("conversations",$d.getConversations,{select:a=>a.data,enabled:!!e});return t.jsx("div",{className:"h-[calc(100vh-200px)]",children:t.jsxs("div",{className:"flex h-full card overflow-hidden",children:[t.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-search"})}),t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-filter"})})]})]}),t.jsxs("div",{className:"mt-4 relative",children:[t.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),t.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:r?t.jsx("div",{className:"p-4 space-y-4",children:[...Array(5)].map((a,n)=>t.jsx("div",{className:"animate-pulse",children:t.jsxs("div",{className:"flex items-center space-x-3 p-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-lg"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]})},n))}):s&&s.length>0?s.map(a=>t.jsx(I,{to:`/inbox/${a.id}`,className:"block p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors duration-200",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:a.item?.image||"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=100",alt:a.item?.name,className:"w-12 h-12 object-cover rounded-lg"}),t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),t.jsx("div",{className:"flex-1 min-w-0",children:a.members?.map(n=>n.id!==e?.id?t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:n.username}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(a.modified_at).toLocaleDateString()})]}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:a.item?.name}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.last_message||"No messages yet"})]},n.id):null)}),t.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[a.unread_count>0&&t.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),t.jsxs("span",{className:"text-xs text-primary-600 font-medium",children:["KSh ",a.item?.price]})]})]})},a.id)):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:t.jsx("i",{className:"fas fa-envelope text-gray-400 text-2xl"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No conversations yet"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Start browsing items to connect with sellers"}),t.jsx(I,{to:"/marketplace",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",children:"Browse Items"})]})})]}),t.jsx("div",{className:"flex-1 flex flex-col",children:s&&s.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold text-sm",children:s[0]?.members?.find(a=>a.id!==e?.id)?.username?.[0]?.toUpperCase()})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:s[0]?.members?.find(a=>a.id!==e?.id)?.username}),t.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Online"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-phone"})}),t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-video"})}),t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-info-circle"})})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-sm text-gray-500",children:"Select a conversation to view messages"})})}),t.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-paperclip"})}),t.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-image"})}),t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",placeholder:"Type your message...",className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500"}),t.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-primary-600 transition-colors duration-200",children:t.jsx("i",{className:"fas fa-smile"})})]}),t.jsx("button",{className:"bg-primary-600 hover:bg-primary-700 text-white p-3 rounded-xl transition-colors duration-200",children:t.jsx("i",{className:"fas fa-paper-plane"})})]})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-comments text-gray-400 text-3xl"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select a conversation"}),t.jsx("p",{className:"text-gray-600",children:"Choose a conversation from the list to start messaging"})]})})})]})})},pu=()=>t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Featured Selections"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Handpicked premium products from verified suppliers"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl p-8 text-white",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("i",{className:"fas fa-star text-3xl text-yellow-300"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold",children:"Premium Electronics"}),t.jsx("p",{className:"text-blue-100",children:"Latest tech from top brands"})]})]}),t.jsx("p",{className:"text-blue-100 mb-6",children:"Discover cutting-edge electronics with warranty and quality assurance."}),t.jsx(I,{to:"/marketplace?featured=true&category=electronics",className:"bg-white text-blue-700 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors duration-200",children:"Explore Now"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-700 rounded-2xl p-8 text-white",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("i",{className:"fas fa-shield-alt text-3xl text-yellow-300"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold",children:"Verified Suppliers"}),t.jsx("p",{className:"text-green-100",children:"Trusted business partners"})]})]}),t.jsx("p",{className:"text-green-100 mb-6",children:"Connect with verified suppliers who meet our strict quality standards."}),t.jsx(I,{to:"/marketplace?verified=true",className:"bg-white text-green-700 px-6 py-3 rounded-lg font-semibold hover:bg-green-50 transition-colors duration-200",children:"View Suppliers"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl p-8 text-white",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("i",{className:"fas fa-crown text-3xl text-yellow-300"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold",children:"Exclusive Deals"}),t.jsx("p",{className:"text-purple-100",children:"Limited time offers"})]})]}),t.jsx("p",{className:"text-purple-100 mb-6",children:"Special pricing and exclusive products available only to our members."}),t.jsx(I,{to:"/marketplace?deals=true",className:"bg-white text-purple-700 px-6 py-3 rounded-lg font-semibold hover:bg-purple-50 transition-colors duration-200",children:"See Deals"})]})]}),t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"This Week's Featured Products"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.jsxs("div",{className:"group relative card border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[t.jsx("div",{className:"absolute top-3 left-3 z-10",children:t.jsx("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"})}),t.jsx("img",{src:"https://images.pexels.com/photos/276517/pexels-photo-276517.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Featured Product",className:"w-full h-48 object-cover"}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Premium Office Chair"}),t.jsx("p",{className:"text-primary-600 font-bold",children:"KSh 15,000 - 25,000"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Min. order: 5 pieces"})]})]})})]})]}),gu=()=>t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We're here to help and answer any questions you might have"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),t.jsxs("form",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"First Name"}),t.jsx("input",{type:"text",className:"input-field",placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Last Name"}),t.jsx("input",{type:"text",className:"input-field",placeholder:"Doe"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",className:"input-field",placeholder:"john@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Subject"}),t.jsxs("select",{className:"input-field",children:[t.jsx("option",{children:"General Inquiry"}),t.jsx("option",{children:"Technical Support"}),t.jsx("option",{children:"Account Issues"}),t.jsx("option",{children:"Billing Questions"}),t.jsx("option",{children:"Feature Request"}),t.jsx("option",{children:"Report a Problem"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Message"}),t.jsx("textarea",{rows:"6",className:"input-field",placeholder:"Tell us how we can help you..."})]}),t.jsx("button",{type:"submit",className:"w-full btn-primary",children:"Send Message"})]})]}),t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-envelope text-primary-600 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Us"}),t.jsx("p",{className:"text-gray-600",children:"support@matrix.com"}),t.jsx("p",{className:"text-sm text-gray-500",children:"We'll respond within 24 hours"})]})]})}),t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-phone text-green-600 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Call Us"}),t.jsx("p",{className:"text-gray-600",children:"+254 712 345 678"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Fri 9AM-6PM EAT"})]})]})}),t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-comments text-blue-600 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Live Chat"}),t.jsx("p",{className:"text-gray-600",children:"Available 24/7"}),t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Start Chat"})]})]})}),t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:t.jsx("i",{className:"fas fa-map-marker-alt text-purple-600 text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Visit Us"}),t.jsx("p",{className:"text-gray-600",children:"Nairobi, Kenya"}),t.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})})]})})]})]}),bu=()=>t.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-question-circle text-blue-600 text-3xl"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help Center"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Find answers to common questions and get support"})]}),t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search for help...",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 text-lg"}),t.jsx("i",{className:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:t.jsx("i",{className:"fas fa-shopping-cart text-green-600 text-xl"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Buying"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"How to find and purchase items"}),t.jsx("a",{href:"#buying",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Learn more "})]}),t.jsxs("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:t.jsx("i",{className:"fas fa-store text-orange-600 text-xl"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Selling"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"How to list and sell your items"}),t.jsx("a",{href:"#selling",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Learn more "})]}),t.jsxs("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:t.jsx("i",{className:"fas fa-credit-card text-blue-600 text-xl"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Payments"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Payment methods and security"}),t.jsx("a",{href:"#payments",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Learn more "})]}),t.jsxs("div",{className:"card p-6 hover:shadow-md transition-shadow duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:t.jsx("i",{className:"fas fa-user text-purple-600 text-xl"})}),t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Account"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Managing your account settings"}),t.jsx("a",{href:"#account",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Learn more "})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-700 rounded-2xl p-8 text-white text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Still Need Help?"}),t.jsx("p",{className:"mb-6",children:"Our support team is available 24/7 to assist you with any questions."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Contact Support"}),t.jsxs("a",{href:"https://wa.me/254712345678",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200",children:[t.jsx("i",{className:"fab fa-whatsapp mr-2"}),"WhatsApp Chat"]})]})]})]}),yu=()=>t.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-user-tie text-indigo-600 text-3xl"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Buyer Central"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Your complete guide to successful buying on Matrix Marketplace"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"50K+"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Active Suppliers"})]}),t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"1M+"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Products Available"})]}),t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"99.8%"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Order Success Rate"})]}),t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"24/7"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Customer Support"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-2xl p-8 text-white text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Start Buying?"}),t.jsx("p",{className:"mb-6",children:"Join thousands of successful buyers on Matrix Marketplace today."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(I,{to:"/marketplace",className:"bg-white text-indigo-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Browse Products"}),t.jsx(I,{to:"/signup",className:"bg-indigo-800 hover:bg-indigo-900 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200",children:"Create Account"})]})]})]}),vu=()=>t.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-handshake text-orange-600 text-3xl"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Become a Supplier"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Join thousands of successful suppliers on Matrix Marketplace"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"card p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-globe text-blue-600 text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Global Reach"}),t.jsx("p",{className:"text-gray-600",children:"Connect with buyers from around the world and expand your market reach."})]}),t.jsxs("div",{className:"card p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-chart-line text-green-600 text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Grow Your Business"}),t.jsx("p",{className:"text-gray-600",children:"Access powerful tools and analytics to grow your sales and optimize performance."})]}),t.jsxs("div",{className:"card p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-shield-alt text-purple-600 text-2xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Secure Payments"}),t.jsx("p",{className:"text-gray-600",children:"Get paid securely and on time with our trusted payment protection system."})]})]}),t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Apply to Become a Supplier"}),t.jsxs("form",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",className:"input-field",placeholder:"Enter your company name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Business Registration Number"}),t.jsx("input",{type:"text",className:"input-field",placeholder:"Enter registration number"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Contact Person"}),t.jsx("input",{type:"text",className:"input-field",placeholder:"Full name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",className:"input-field",placeholder:"business@company.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Product Categories"}),t.jsx("textarea",{rows:"3",className:"input-field",placeholder:"Describe the products you want to sell..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Business Description"}),t.jsx("textarea",{rows:"4",className:"input-field",placeholder:"Tell us about your business..."})]}),t.jsx("button",{type:"submit",className:"w-full btn-primary",children:"Submit Application"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-700 rounded-2xl p-8 text-white text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Questions About Becoming a Supplier?"}),t.jsx("p",{className:"mb-6",children:"Our supplier relations team is here to help you get started."}),t.jsx("button",{className:"bg-white text-orange-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Contact Us"})]})]}),ju=()=>{const[e,s]=m.useState({}),r=n=>{s(i=>({...i,[n]:!i[n]}))},a=[{question:"What is Matrix Marketplace?",answer:"Matrix Marketplace is a B2B platform connecting buyers with verified suppliers worldwide. We facilitate secure transactions and provide tools for successful business relationships.",category:"general"},{question:"How do I find reliable suppliers?",answer:"Look for verified suppliers with good ratings, complete profiles, and positive reviews. Use our supplier verification tools and always communicate directly before placing orders.",category:"buying"},{question:"What payment methods are accepted?",answer:"We accept major credit cards, bank transfers, and mobile money payments. All transactions are secured with our buyer protection program.",category:"buying"},{question:"How do I become a verified supplier?",answer:"Complete your business profile, provide required documentation (business license, certifications), maintain good seller ratings, and pass our verification process.",category:"selling"},{question:"What are the selling fees?",answer:"Basic listings are free. We charge a small commission (3-5%) only when you successfully complete a sale. Premium features and advertising have additional costs.",category:"selling"},{question:"How do I reset my password?",answer:"Click 'Forgot Password' on the login page, enter your email address, and follow the instructions in the reset email we send you.",category:"account"}];return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-question-circle text-yellow-600 text-3xl"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Quick answers to common questions about Matrix Marketplace"})]}),t.jsx("div",{className:"max-w-2xl mx-auto",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search FAQs...",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 text-lg"}),t.jsx("i",{className:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})}),t.jsx("div",{className:"space-y-4",children:a.map((n,i)=>t.jsxs("div",{className:"card",children:[t.jsxs("button",{onClick:()=>r(i),className:"flex items-center justify-between cursor-pointer p-6 text-gray-900 font-medium w-full text-left",children:[t.jsx("span",{children:n.question}),t.jsx("i",{className:`fas fa-chevron-down transition-transform duration-200 ${e[i]?"rotate-180":""}`})]}),e[i]&&t.jsx("div",{className:"px-6 pb-6",children:t.jsx("p",{className:"text-gray-600",children:n.answer})})]},i))}),t.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-700 rounded-2xl p-8 text-white text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Didn't Find Your Answer?"}),t.jsx("p",{className:"mb-6",children:"Our support team is here to help you with any questions."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{className:"bg-white text-yellow-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Contact Support"}),t.jsxs("a",{href:"https://wa.me/254712345678",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200",children:[t.jsx("i",{className:"fab fa-whatsapp mr-2"}),"WhatsApp Chat"]})]})]})]})},Nu=()=>t.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("i",{className:"fas fa-shield-alt text-green-600 text-3xl"})}),t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Order Protection"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Your purchases are protected with our comprehensive buyer guarantee"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"card p-8",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-money-bill-wave text-blue-600 text-xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Money Back Guarantee"})]}),t.jsx("p",{className:"text-gray-600",children:"Get a full refund if your order doesn't arrive or doesn't match the description."})]}),t.jsxs("div",{className:"card p-8",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-truck text-green-600 text-xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Shipping Protection"})]}),t.jsx("p",{className:"text-gray-600",children:"We ensure your items are delivered safely or provide compensation for lost packages."})]}),t.jsxs("div",{className:"card p-8",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-certificate text-purple-600 text-xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Quality Assurance"})]}),t.jsx("p",{className:"text-gray-600",children:"All products are verified for quality and authenticity before shipping."})]}),t.jsxs("div",{className:"card p-8",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-headset text-red-600 text-xl"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"24/7 Support"})]}),t.jsx("p",{className:"text-gray-600",children:"Our customer support team is available around the clock to help resolve any issues."})]})]}),t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"How Order Protection Works"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Place Your Order"}),t.jsx("p",{className:"text-gray-600",children:"Your payment is held securely until you confirm receipt of your order."})]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Track Your Shipment"}),t.jsx("p",{className:"text-gray-600",children:"Monitor your order's progress with real-time tracking updates."})]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Confirm Receipt"}),t.jsx("p",{className:"text-gray-600",children:"Once you receive and approve your order, payment is released to the supplier."})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-700 rounded-2xl p-8 text-white text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Need Help with an Order?"}),t.jsx("p",{className:"mb-6",children:"Our protection team is here to assist you with any concerns."}),t.jsx("button",{className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors duration-200",children:"Contact Support"})]})]});function wu(){const{user:e}=ke();return t.jsx(Cd,{children:t.jsxs(Qn,{children:[t.jsx(ae,{path:"/",element:t.jsx(Fd,{})}),t.jsx(ae,{path:"/marketplace",element:t.jsx(Ad,{})}),t.jsx(ae,{path:"/items/:id",element:t.jsx(Rd,{})}),t.jsx(ae,{path:"/featured",element:t.jsx(pu,{})}),t.jsx(ae,{path:"/contact",element:t.jsx(gu,{})}),t.jsx(ae,{path:"/help-center",element:t.jsx(bu,{})}),t.jsx(ae,{path:"/buyer-central",element:t.jsx(yu,{})}),t.jsx(ae,{path:"/become-supplier",element:t.jsx(vu,{})}),t.jsx(ae,{path:"/faq",element:t.jsx(ju,{})}),t.jsx(ae,{path:"/order-protection",element:t.jsx(Nu,{})}),t.jsx(ae,{path:"/login",element:t.jsx(mu,{})}),t.jsx(ae,{path:"/signup",element:t.jsx(fu,{})}),e&&t.jsxs(t.Fragment,{children:[t.jsx(ae,{path:"/dashboard",element:t.jsx(uu,{})}),t.jsx(ae,{path:"/items/new",element:t.jsx(cu,{})}),t.jsx(ae,{path:"/items/:id/edit",element:t.jsx(du,{})}),t.jsx(ae,{path:"/profile",element:t.jsx(xu,{})}),t.jsx(ae,{path:"/favorites",element:t.jsx(hu,{})}),t.jsx(ae,{path:"/inbox",element:t.jsx(As,{})}),t.jsx(ae,{path:"/inbox/:id",element:t.jsx(As,{})}),t.jsx(ae,{path:"/inbox/new/:itemId",element:t.jsx(As,{})})]})]})})}const Su=new Xn({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});ke.getState().initializeAuth();ni.createRoot(document.getElementById("root")).render(t.jsx(H.StrictMode,{children:t.jsx(Zn,{client:Su,children:t.jsx(Jn,{children:t.jsx(wu,{})})})}));
